"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MessagesManager = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _chat = require("@cometchat-pro/chat");
var MessagesManager = /*#__PURE__*/function () {
  function MessagesManager() {
    (0, _classCallCheck2["default"])(this, MessagesManager);
    (0, _defineProperty2["default"])(this, "msgListenerId", "messages_" + new Date().getTime());
  }
  (0, _createClass2["default"])(MessagesManager, [{
    key: "attachListeners",
    value: function attachListeners(callback) {
      _chat.CometChat.addMessageListener(this.msgListenerId, new _chat.CometChat.MessageListener({
        onTransientMessageReceived: function onTransientMessageReceived(transientMessage) {
          callback("onTransientMessageReceived", transientMessage);
        }
      }));
    }
  }, {
    key: "removeListeners",
    value: function removeListeners() {
      _chat.CometChat.removeMessageListener(this.msgListenerId);
    }
  }]);
  return MessagesManager;
}();
exports.MessagesManager = MessagesManager;