{"ast":null,"code":"import _toConsumableArray from\"/home/admin1/dev/react/react-sample-guide/sample-react-guides/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/admin1/dev/react/react-sample-guide/sample-react-guides/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{CometChatMessageList,CometChatMessageBubble,CometChatMessageTemplate,CometChatMessages,getExtensionsData,MetadataConstants}from\"react-ui-kit-testing\";import{Hook}from\"./hook\";import{messageTextStyle,paymentContainerStyle,linkPreviewStyle}from\"./style\";import{alignmentContainerStyle,buttonContainerStyle,buttonStyle}from\"../MessageAlignment/style.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CustomMessageBubble=function CustomMessageBubble(props){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),group=_React$useState4[0],setGroup=_React$useState4[1];//const [richMediaObject, setLinkPreviewObject] = React.useState();\nvar _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),bool=_React$useState6[0],setBool=_React$useState6[1];var customBubbleHandler=function customBubbleHandler(){setBool(true);};var defaultBubbleHandler=function defaultBubbleHandler(){setBool(false);};var richMediaObject=React.useRef();var messageTypes=CometChatMessageTemplate.getDefaultTypes();var richMediaMethod=function richMediaMethod(props){var linkPreviewData=getExtensionsData(props===null||props===void 0?void 0:props.messageObject,MetadataConstants.extensions.linkPreview);return linkPreviewData;};var customViewTextBubble=function customViewTextBubble(props){var _richMediaMethod,_richMediaMethod$link,_richMediaMethod2,_richMediaMethod2$lin,_richMediaMethod3,_richMediaMethod3$lin,_richMediaMethod4,_richMediaMethod4$met;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",style:messageTextStyle(richMediaMethod(props)),children:props.messageObject.text}),/*#__PURE__*/_jsx(\"div\",{className:\"link--preview\",style:linkPreviewStyle(richMediaMethod(props)),children:/*#__PURE__*/_jsxs(\"div\",{className:\"rich__media\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"thumbnail\",children:/*#__PURE__*/_jsx(\"img\",{src:(_richMediaMethod=richMediaMethod(props))===null||_richMediaMethod===void 0?void 0:(_richMediaMethod$link=_richMediaMethod.links[0])===null||_richMediaMethod$link===void 0?void 0:_richMediaMethod$link.image,alt:\"\",height:\"100px\",width:\"100px\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:(_richMediaMethod2=richMediaMethod(props))===null||_richMediaMethod2===void 0?void 0:(_richMediaMethod2$lin=_richMediaMethod2.links[0])===null||_richMediaMethod2$lin===void 0?void 0:_richMediaMethod2$lin.title}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",children:(_richMediaMethod3=richMediaMethod(props))===null||_richMediaMethod3===void 0?void 0:(_richMediaMethod3$lin=_richMediaMethod3.links[0])===null||_richMediaMethod3$lin===void 0?void 0:_richMediaMethod3$lin.description}),/*#__PURE__*/_jsx(\"a\",{href:(_richMediaMethod4=richMediaMethod(props))===null||_richMediaMethod4===void 0?void 0:(_richMediaMethod4$met=_richMediaMethod4.meta)===null||_richMediaMethod4$met===void 0?void 0:_richMediaMethod4$met.canonical,target:\"_blank\",children:\"View\"})]})]})})]});};var customViewPayment=function customViewPayment(props){var _props$messageObject,_props$messageObject$,_props$messageObject$2;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment--view\",style:paymentContainerStyle(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment--title\",children:\"Payment Successful\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment--amount\",children:[\"\\u20B9 \",props===null||props===void 0?void 0:(_props$messageObject=props.messageObject)===null||_props$messageObject===void 0?void 0:(_props$messageObject$=_props$messageObject.data)===null||_props$messageObject$===void 0?void 0:(_props$messageObject$2=_props$messageObject$.customData)===null||_props$messageObject$2===void 0?void 0:_props$messageObject$2.amount]})]})});};var customMessageTypes=[new CometChatMessageTemplate({type:\"text\",icon:\"\",name:\"Text\",category:\"messsages\",customView:customViewTextBubble// onActionClick: null,\n}),new CometChatMessageTemplate({type:\"payment\",icon:\"\",name:\"Payment\",category:\"custom-message\",customView:customViewPayment// onActionClick: onActionClickPayment,\n})].concat(_toConsumableArray(messageTypes));Hook(setGroup,setUser);return user?/*#__PURE__*/_jsxs(\"div\",{style:alignmentContainerStyle(),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CometChatMessageList,{user:user,style:{width:\"700px\",height:\"400px\",border:\"1px solid black\"},messageTypes:bool?customMessageTypes:null})}),/*#__PURE__*/_jsxs(\"div\",{style:buttonContainerStyle(),children:[/*#__PURE__*/_jsx(\"button\",{onClick:defaultBubbleHandler,style:buttonStyle(),children:\"default bubble\"}),/*#__PURE__*/_jsx(\"button\",{onClick:customBubbleHandler,style:buttonStyle(),children:\"custom bubble\"})]})]}):null;};export{CustomMessageBubble};","map":{"version":3,"names":["React","CometChatMessageList","CometChatMessageBubble","CometChatMessageTemplate","CometChatMessages","getExtensionsData","MetadataConstants","Hook","messageTextStyle","paymentContainerStyle","linkPreviewStyle","alignmentContainerStyle","buttonContainerStyle","buttonStyle","CustomMessageBubble","props","useState","user","setUser","group","setGroup","bool","setBool","customBubbleHandler","defaultBubbleHandler","richMediaObject","useRef","messageTypes","getDefaultTypes","richMediaMethod","linkPreviewData","messageObject","extensions","linkPreview","customViewTextBubble","text","links","image","title","description","meta","canonical","customViewPayment","data","customData","amount","customMessageTypes","type","icon","name","category","customView","width","height","border"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/app/guides/CustomMessageBubble/index.js"],"sourcesContent":["import React from \"react\";\n\nimport {\n  CometChatMessageList,\n  CometChatMessageBubble,\n  CometChatMessageTemplate,\n  CometChatMessages,\n  getExtensionsData,\n  MetadataConstants,\n} from \"react-ui-kit-testing\";\n\nimport { Hook } from \"./hook\";\n\nimport {\n  messageTextStyle,\n  paymentContainerStyle,\n  linkPreviewStyle,\n} from \"./style\";\n\nimport {\n  alignmentContainerStyle,\n  buttonContainerStyle,\n  buttonStyle,\n} from \"../MessageAlignment/style.js\";\n\nconst CustomMessageBubble = (props) => {\n  const [user, setUser] = React.useState(null);\n  const [group, setGroup] = React.useState(null);\n  //const [richMediaObject, setLinkPreviewObject] = React.useState();\n\n  const [bool, setBool] = React.useState(false);\n\n  const customBubbleHandler = () => {\n    setBool(true);\n  };\n\n  const defaultBubbleHandler = () => {\n    setBool(false);\n  };\n\n  const richMediaObject = React.useRef();\n  let messageTypes = CometChatMessageTemplate.getDefaultTypes();\n\n  const richMediaMethod = (props) => {\n    const linkPreviewData = getExtensionsData(\n      props?.messageObject,\n\n      MetadataConstants.extensions.linkPreview\n    );\n    return linkPreviewData;\n  };\n\n  const customViewTextBubble = (props) => {\n    return (\n      <>\n        <div\n          className=\"message-text\"\n          style={messageTextStyle(richMediaMethod(props))}\n        >\n          {props.messageObject.text}\n        </div>\n        <div\n          className=\"link--preview\"\n          style={linkPreviewStyle(richMediaMethod(props))}\n        >\n          <div className=\"rich__media\">\n            <div class=\"thumbnail\">\n              <img\n                src={richMediaMethod(props)?.links[0]?.image}\n                alt=\"\"\n                height=\"100px\"\n                width=\"100px\"\n              />\n            </div>\n\n            <div className=\"details\">\n              <div className=\"title\">\n                {richMediaMethod(props)?.links[0]?.title}\n              </div>\n              <div className=\"description\">\n                {richMediaMethod(props)?.links[0]?.description}\n              </div>\n\n              <a href={richMediaMethod(props)?.meta?.canonical} target=\"_blank\">\n                View\n              </a>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  const customViewPayment = (props) => {\n    return (\n      <React.Fragment>\n        <div className=\"payment--view\" style={paymentContainerStyle()}>\n          <div className=\"payment--title\">Payment Successful</div>\n          <div className=\"payment--amount\">\n            â‚¹ {props?.messageObject?.data?.customData?.amount}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  let customMessageTypes = [\n    new CometChatMessageTemplate({\n      type: \"text\",\n      icon: \"\",\n      name: \"Text\",\n      category: \"messsages\",\n      customView: customViewTextBubble,\n      // onActionClick: null,\n    }),\n    new CometChatMessageTemplate({\n      type: \"payment\",\n      icon: \"\",\n      name: \"Payment\",\n      category: \"custom-message\",\n      customView: customViewPayment,\n      // onActionClick: onActionClickPayment,\n    }),\n    ...messageTypes,\n  ];\n\n  Hook(setGroup, setUser);\n\n  return user ? (\n    <div style={alignmentContainerStyle()}>\n      <div>\n        <CometChatMessageList\n          user={user}\n          style={{ width: \"700px\", height: \"400px\", border: \"1px solid black\" }}\n          messageTypes={bool ? customMessageTypes : null}\n        />\n      </div>\n      <div style={buttonContainerStyle()}>\n        <button onClick={defaultBubbleHandler} style={buttonStyle()}>\n          default bubble\n        </button>\n        <button onClick={customBubbleHandler} style={buttonStyle()}>\n          custom bubble\n        </button>\n      </div>\n    </div>\n  ) : null;\n};\n\nexport { CustomMessageBubble };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}