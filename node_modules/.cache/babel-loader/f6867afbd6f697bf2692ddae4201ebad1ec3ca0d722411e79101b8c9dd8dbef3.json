{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { getExtensionsData, MetadataConstants } from \"../../..\";\nexport const Hooks = (props, setQuestion, setOptions, setVoteCount, setPollId) => {\n  _s();\n  React.useEffect(() => {\n    var _props$pollQuestion, _props$pollQuestion$t;\n    if (props !== null && props !== void 0 && props.pollQuestion && props !== null && props !== void 0 && (_props$pollQuestion = props.pollQuestion) !== null && _props$pollQuestion !== void 0 && (_props$pollQuestion$t = _props$pollQuestion.trim()) !== null && _props$pollQuestion$t !== void 0 && _props$pollQuestion$t.length) {\n      setQuestion(props.pollQuestion);\n    } else if (props !== null && props !== void 0 && props.messageObject) {\n      const pollsData = getExtensionsData(props.messageObject, MetadataConstants.extensions.polls);\n      if (pollsData && pollsData.question && pollsData.question.trim().length) {\n        setQuestion(pollsData.question);\n      }\n    }\n  }, [props.pollQuestion, props.messageObject, setQuestion]);\n  React.useEffect(() => {\n    if (props.options && props.options.length) {\n      setOptions(props.pollOptions);\n    } else if (props.messageObject) {\n      const pollsData = getExtensionsData(props.messageObject, MetadataConstants.extensions.polls);\n      if (pollsData && pollsData.results && pollsData.results.options && typeof pollsData.results.options === \"object\" && Object.keys(pollsData.results.options).length) {\n        setOptions(pollsData.results.options);\n      }\n    }\n  }, [props.pollOptions, props.messageObject, setOptions, props.options]);\n  React.useEffect(() => {\n    if (props.totalVoteCount && props.totalVoteCount.length) {\n      setVoteCount(props.totalVoteCount);\n    } else if (props.messageObject) {\n      const pollsData = getExtensionsData(props.messageObject, MetadataConstants.extensions.polls);\n      setPollId(pollsData.id);\n      if (pollsData && pollsData.results && pollsData.results.total && pollsData.results.total > 0) {\n        setVoteCount(pollsData.results.total);\n      }\n    }\n  }, [props.totalVoteCount, props.messageObject, setVoteCount, setPollId]);\n};\n_s(Hooks, \"ewq31d5h+FnD/qJW52w5UqeNMN4=\");\n_c = Hooks;\nvar _c;\n$RefreshReg$(_c, \"Hooks\");","map":{"version":3,"names":["React","getExtensionsData","MetadataConstants","Hooks","props","setQuestion","setOptions","setVoteCount","setPollId","useEffect","pollQuestion","trim","length","messageObject","pollsData","extensions","polls","question","options","pollOptions","results","Object","keys","totalVoteCount","id","total"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Messages/Bubbles/CometChatPollBubble/hooks.js"],"sourcesContent":["import React from \"react\";\nimport { getExtensionsData, MetadataConstants } from \"../../..\";\n\nexport const Hooks = (\n  props,\n  setQuestion,\n  setOptions,\n  setVoteCount,\n  setPollId\n) => {\n  React.useEffect(() => {\n    if (props?.pollQuestion && props?.pollQuestion?.trim()?.length) {\n      setQuestion(props.pollQuestion);\n    } else if (props?.messageObject) {\n      const pollsData = getExtensionsData(\n        props.messageObject,\n        MetadataConstants.extensions.polls\n      );\n      if (pollsData && pollsData.question && pollsData.question.trim().length) {\n        setQuestion(pollsData.question);\n      }\n    }\n  }, [props.pollQuestion, props.messageObject, setQuestion]);\n\n  React.useEffect(() => {\n    if (props.options && props.options.length) {\n      setOptions(props.pollOptions);\n    } else if (props.messageObject) {\n      const pollsData = getExtensionsData(\n        props.messageObject,\n        MetadataConstants.extensions.polls\n      );\n      if (\n        pollsData &&\n        pollsData.results &&\n        pollsData.results.options &&\n        typeof pollsData.results.options === \"object\" &&\n        Object.keys(pollsData.results.options).length\n      ) {\n        setOptions(pollsData.results.options);\n      }\n    }\n  }, [props.pollOptions, props.messageObject, setOptions, props.options]);\n\n  React.useEffect(() => {\n    if (props.totalVoteCount && props.totalVoteCount.length) {\n      setVoteCount(props.totalVoteCount);\n    } else if (props.messageObject) {\n      const pollsData = getExtensionsData(\n        props.messageObject,\n        MetadataConstants.extensions.polls\n      );\n      setPollId(pollsData.id);\n      if (\n        pollsData &&\n        pollsData.results &&\n        pollsData.results.total &&\n        pollsData.results.total > 0\n      ) {\n        setVoteCount(pollsData.results.total);\n      }\n    }\n  }, [props.totalVoteCount, props.messageObject, setVoteCount, setPollId]);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}