{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { GroupListManager } from \"./controller\";\nexport const Hooks = (loggedInUser, handlers, setGroupList, groupListManager, groupCallback, callbackData, handleGroups, limit, searchKeyword, joinedOnly, tags, errorHandler) => {\n  _s();\n  React.useEffect(() => {\n    CometChat.getLoggedinUser().then(user => {\n      var _groupListManager$cur;\n      loggedInUser.current = {\n        ...user\n      };\n      groupListManager.current = new GroupListManager(limit, searchKeyword, joinedOnly, tags);\n      (_groupListManager$cur = groupListManager.current) === null || _groupListManager$cur === void 0 ? void 0 : _groupListManager$cur.attachListeners(groupCallback);\n      setGroupList([]);\n      handleGroups();\n    }).catch(error => errorHandler(error));\n    return () => {\n      if (groupListManager && groupListManager.current && groupListManager.current.removeUserListener && typeof groupListManager.current.removeUserListener === \"function\") {\n        var _groupListManager$cur2;\n        (_groupListManager$cur2 = groupListManager.current) === null || _groupListManager$cur2 === void 0 ? void 0 : _groupListManager$cur2.removeGroupListener();\n      }\n    };\n  }, []);\n  React.useEffect(() => {\n    const handler = handlers[callbackData === null || callbackData === void 0 ? void 0 : callbackData.name];\n    if (handler) return handler(...(callbackData === null || callbackData === void 0 ? void 0 : callbackData.args));\n  }, [callbackData]);\n  React.useEffect(() => {\n    if (groupListManager && groupListManager.current) {\n      groupListManager.current = new GroupListManager(limit, searchKeyword, joinedOnly, tags);\n      setGroupList([]);\n      handleGroups();\n    }\n  }, [limit, searchKeyword, joinedOnly, tags === null || tags === void 0 ? void 0 : tags.length]);\n};\n_s(Hooks, \"ewq31d5h+FnD/qJW52w5UqeNMN4=\");\n_c = Hooks;\nvar _c;\n$RefreshReg$(_c, \"Hooks\");","map":{"version":3,"names":["React","CometChat","GroupListManager","Hooks","loggedInUser","handlers","setGroupList","groupListManager","groupCallback","callbackData","handleGroups","limit","searchKeyword","joinedOnly","tags","errorHandler","useEffect","getLoggedinUser","then","user","current","attachListeners","catch","error","removeUserListener","removeGroupListener","handler","name","args","length"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Groups/CometChatGroupList/hooks.js"],"sourcesContent":["import React from \"react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nexport const Hooks = (\n\tloggedInUser,\n\thandlers,\n\tsetGroupList,\n\tgroupListManager,\n\tgroupCallback,\n\tcallbackData,\n\thandleGroups,\n\tlimit,\n\tsearchKeyword,\n\tjoinedOnly,\n\ttags,\n\terrorHandler\n) => {\n\tReact.useEffect(() => {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then((user) => {\n\t\t\t\tloggedInUser.current = { ...user };\n\t\t\t\tgroupListManager.current = new GroupListManager(\n\t\t\t\t\tlimit,\n\t\t\t\t\tsearchKeyword,\n\t\t\t\t\tjoinedOnly,\n\t\t\t\t\ttags\n\t\t\t\t);\n\t\t\t\tgroupListManager.current?.attachListeners(groupCallback);\n\n\t\t\t\tsetGroupList([]);\n\t\t\t\thandleGroups();\n\t\t\t})\n\t\t\t.catch(error => errorHandler(error));\n\t\treturn () => {\n\t\t\tif (\n\t\t\t\tgroupListManager &&\n\t\t\t\tgroupListManager.current &&\n\t\t\t\tgroupListManager.current.removeUserListener &&\n\t\t\t\ttypeof groupListManager.current.removeUserListener === \"function\"\n\t\t\t) {\n\t\t\t\tgroupListManager.current?.removeGroupListener();\n\t\t\t}\n\t\t};\n\t}, []);\n\n\tReact.useEffect(() => {\n\t\tconst handler = handlers[callbackData?.name];\n\n\t\tif (handler) return handler(...callbackData?.args);\n\t}, [callbackData]);\n\n\tReact.useEffect(() => {\n\t\tif (groupListManager && groupListManager.current) {\n\t\t\tgroupListManager.current = new GroupListManager(\n\t\t\t\tlimit,\n\t\t\t\tsearchKeyword,\n\t\t\t\tjoinedOnly,\n\t\t\t\ttags\n\t\t\t);\n\n\t\t\tsetGroupList([]);\n\t\t\thandleGroups();\n\t\t}\n\t}, [limit, searchKeyword, joinedOnly, tags?.length]);\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,qBAAqB;AAE/C,SAASC,gBAAgB,QAAQ,cAAc;AAE/C,OAAO,MAAMC,KAAK,GAAG,CACpBC,YAAY,EACZC,QAAQ,EACRC,YAAY,EACZC,gBAAgB,EAChBC,aAAa,EACbC,YAAY,EACZC,YAAY,EACZC,KAAK,EACLC,aAAa,EACbC,UAAU,EACVC,IAAI,EACJC,YAAY,KACR;EAAA;EACJf,KAAK,CAACgB,SAAS,CAAC,MAAM;IACrBf,SAAS,CAACgB,eAAe,EAAE,CACzBC,IAAI,CAAEC,IAAI,IAAK;MAAA;MACff,YAAY,CAACgB,OAAO,GAAG;QAAE,GAAGD;MAAK,CAAC;MAClCZ,gBAAgB,CAACa,OAAO,GAAG,IAAIlB,gBAAgB,CAC9CS,KAAK,EACLC,aAAa,EACbC,UAAU,EACVC,IAAI,CACJ;MACD,yBAAAP,gBAAgB,CAACa,OAAO,0DAAxB,sBAA0BC,eAAe,CAACb,aAAa,CAAC;MAExDF,YAAY,CAAC,EAAE,CAAC;MAChBI,YAAY,EAAE;IACf,CAAC,CAAC,CACDY,KAAK,CAACC,KAAK,IAAIR,YAAY,CAACQ,KAAK,CAAC,CAAC;IACrC,OAAO,MAAM;MACZ,IACChB,gBAAgB,IAChBA,gBAAgB,CAACa,OAAO,IACxBb,gBAAgB,CAACa,OAAO,CAACI,kBAAkB,IAC3C,OAAOjB,gBAAgB,CAACa,OAAO,CAACI,kBAAkB,KAAK,UAAU,EAChE;QAAA;QACD,0BAAAjB,gBAAgB,CAACa,OAAO,2DAAxB,uBAA0BK,mBAAmB,EAAE;MAChD;IACD,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;EAENzB,KAAK,CAACgB,SAAS,CAAC,MAAM;IACrB,MAAMU,OAAO,GAAGrB,QAAQ,CAACI,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEkB,IAAI,CAAC;IAE5C,IAAID,OAAO,EAAE,OAAOA,OAAO,CAAC,IAAGjB,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEmB,IAAI,EAAC;EACnD,CAAC,EAAE,CAACnB,YAAY,CAAC,CAAC;EAElBT,KAAK,CAACgB,SAAS,CAAC,MAAM;IACrB,IAAIT,gBAAgB,IAAIA,gBAAgB,CAACa,OAAO,EAAE;MACjDb,gBAAgB,CAACa,OAAO,GAAG,IAAIlB,gBAAgB,CAC9CS,KAAK,EACLC,aAAa,EACbC,UAAU,EACVC,IAAI,CACJ;MAEDR,YAAY,CAAC,EAAE,CAAC;MAChBI,YAAY,EAAE;IACf;EACD,CAAC,EAAE,CAACC,KAAK,EAAEC,aAAa,EAAEC,UAAU,EAAEC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,MAAM,CAAC,CAAC;AACrD,CAAC;AAAC,GA7DW1B,KAAK;AAAA,KAALA,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}