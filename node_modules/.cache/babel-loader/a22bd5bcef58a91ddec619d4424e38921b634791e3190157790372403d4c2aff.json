{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { ExtensionURLs, ExtensionConstants, localize } from \"../../Shared\";\nimport { CometChatMessageEvents } from \"../\";\nexport const Hooks = (props, stickerList, stickerSet, activeStickerSetName, setStickerList, setStickerSet, setActiveStickerList, setActiveStickerSetName, setDecoratorMessage) => {\n  _s();\n  React.useEffect(() => {\n    CometChat.callExtension(ExtensionConstants.stickers, \"GET\", ExtensionURLs.stickers, null).then(stickers => {\n      // Stickers received\n      const customStickers = stickers.hasOwnProperty(ExtensionConstants.customStickers) ? stickers[ExtensionConstants.customStickers] : [];\n      const defaultStickers = stickers.hasOwnProperty(ExtensionConstants.defaultStickers) ? stickers[ExtensionConstants.defaultStickers] : [];\n      defaultStickers.sort(function (a, b) {\n        return a.stickerSetOrder - b.stickerSetOrder;\n      });\n      customStickers.sort(function (a, b) {\n        return a.stickerSetOrder - b.stickerSetOrder;\n      });\n      setStickerList([...defaultStickers, ...customStickers]);\n      if ((stickerList === null || stickerList === void 0 ? void 0 : stickerList.length) === 0) {\n        setDecoratorMessage(props.emptyText || localize(\"NO_STICKERS_FOUND\"));\n      }\n    }).catch(error => {\n      setDecoratorMessage(props.errorText || localize(\"SOMETHING_WRONG\"));\n      CometChatMessageEvents.emit(CometChatMessageEvents.onMessageError, error);\n    });\n  }, []);\n  React.useEffect(() => {\n    const stickerSet = stickerList === null || stickerList === void 0 ? void 0 : stickerList.reduce((r, sticker, index) => {\n      const {\n        stickerSetName\n      } = sticker;\n      if (index === 0) {\n        setActiveStickerSetName(stickerSetName);\n      }\n      r[stickerSetName] = [...(r[stickerSetName] || []), {\n        ...sticker\n      }];\n      return r;\n    }, {});\n    setStickerSet(stickerSet);\n  }, [stickerList]);\n  React.useEffect(() => {\n    if (stickerSet && Object.keys(stickerSet).length) {\n      let activeStickerList = [];\n      Object.keys(stickerSet).forEach(key => {\n        stickerSet[key].sort(function (a, b) {\n          return a.stickerOrder - b.stickerOrder;\n        });\n      });\n      activeStickerList = stickerSet[activeStickerSetName];\n      setActiveStickerList(activeStickerList);\n    }\n  }, [stickerSet]);\n};\n_s(Hooks, \"ewq31d5h+FnD/qJW52w5UqeNMN4=\");\n_c = Hooks;\nvar _c;\n$RefreshReg$(_c, \"Hooks\");","map":{"version":3,"names":["React","CometChat","ExtensionURLs","ExtensionConstants","localize","CometChatMessageEvents","Hooks","props","stickerList","stickerSet","activeStickerSetName","setStickerList","setStickerSet","setActiveStickerList","setActiveStickerSetName","setDecoratorMessage","useEffect","callExtension","stickers","then","customStickers","hasOwnProperty","defaultStickers","sort","a","b","stickerSetOrder","length","emptyText","catch","error","errorText","emit","onMessageError","reduce","r","sticker","index","stickerSetName","Object","keys","activeStickerList","forEach","key","stickerOrder"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Messages/CometChatStickerKeyboard/hooks.js"],"sourcesContent":["import React from \"react\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ExtensionURLs, ExtensionConstants, localize } from \"../../Shared\";\nimport { CometChatMessageEvents } from \"../\";\n\nexport const Hooks = (\n  props,\n  stickerList,\n  stickerSet,\n  activeStickerSetName,\n  setStickerList,\n  setStickerSet,\n  setActiveStickerList,\n  setActiveStickerSetName,\n  setDecoratorMessage\n) => {\n  React.useEffect(() => {\n    CometChat.callExtension(\n      ExtensionConstants.stickers,\n      \"GET\",\n      ExtensionURLs.stickers,\n      null\n    )\n      .then((stickers) => {\n        // Stickers received\n        const customStickers = stickers.hasOwnProperty(\n          ExtensionConstants.customStickers\n        )\n          ? stickers[ExtensionConstants.customStickers]\n          : [];\n        const defaultStickers = stickers.hasOwnProperty(\n          ExtensionConstants.defaultStickers\n        )\n          ? stickers[ExtensionConstants.defaultStickers]\n          : [];\n\n        defaultStickers.sort(function (a, b) {\n          return a.stickerSetOrder - b.stickerSetOrder;\n        });\n\n        customStickers.sort(function (a, b) {\n          return a.stickerSetOrder - b.stickerSetOrder;\n        });\n\n        setStickerList([...defaultStickers, ...customStickers]);\n\n        if (stickerList?.length === 0) {\n          setDecoratorMessage(props.emptyText || localize(\"NO_STICKERS_FOUND\"));\n        }\n      })\n\n      .catch((error) => {\n        setDecoratorMessage(props.errorText || localize(\"SOMETHING_WRONG\"));\n        CometChatMessageEvents.emit(\n          CometChatMessageEvents.onMessageError,\n          error\n        );\n      });\n  }, []);\n\n  React.useEffect(() => {\n    const stickerSet = stickerList?.reduce((r, sticker, index) => {\n      const { stickerSetName } = sticker;\n\n      if (index === 0) {\n        setActiveStickerSetName(stickerSetName);\n      }\n\n      r[stickerSetName] = [...(r[stickerSetName] || []), { ...sticker }];\n\n      return r;\n    }, {});\n    setStickerSet(stickerSet);\n  }, [stickerList]);\n\n  React.useEffect(() => {\n    if (stickerSet && Object.keys(stickerSet).length) {\n      let activeStickerList = [];\n      Object.keys(stickerSet).forEach((key) => {\n        stickerSet[key].sort(function (a, b) {\n          return a.stickerOrder - b.stickerOrder;\n        });\n      });\n      activeStickerList = stickerSet[activeStickerSetName];\n      setActiveStickerList(activeStickerList);\n    }\n  }, [stickerSet]);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}