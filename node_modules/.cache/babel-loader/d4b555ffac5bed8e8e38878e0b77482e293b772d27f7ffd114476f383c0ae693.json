{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Hooks = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _chat = require(\"@cometchat-pro/chat\");\nvar _ = require(\"..\");\nvar _2 = require(\"../..\");\nvar getUser = function getUser(uid) {\n  return new Promise(function (resolve, reject) {\n    _chat.CometChat.getUser(uid).then(function (user) {\n      return resolve(user);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n};\nvar getGroup = function getGroup(guid) {\n  return new Promise(function (resolve, reject) {\n    _chat.CometChat.getGroup(guid).then(function (group) {\n      return resolve(group);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n};\nvar Hooks = function Hooks(props, loggedInUser, setChatWith, setChatWithType, setMessageHeaderStatus, setUserPresence, messageHeaderManager, messageHeaderCallback, handlers, callbackData, errorHandler) {\n  //fetch logged in user\n  _react.default.useEffect(function () {\n    _chat.CometChat.getLoggedinUser().then(function (user) {\n      var _messageHeaderManager;\n      loggedInUser.current = user;\n      (_messageHeaderManager = messageHeaderManager.current) === null || _messageHeaderManager === void 0 ? void 0 : _messageHeaderManager.attachListeners(messageHeaderCallback);\n    }).catch(function (error) {\n      return errorHandler(error);\n    });\n  }, []);\n  var updateMessageHeaderStatusForUser = _react.default.useCallback(function (user) {\n    if (user.status === _2.UserStatusConstants.offline) {\n      setMessageHeaderStatus((0, _2.localize)(\"OFFLINE\"));\n      setUserPresence(_2.UserStatusConstants.offline);\n    } else if (user.status === _2.UserStatusConstants.online) {\n      setMessageHeaderStatus((0, _2.localize)(\"ONLINE\"));\n      setUserPresence(_2.UserStatusConstants.online);\n    }\n  }, [setMessageHeaderStatus, setUserPresence]);\n  var updateMessageHeaderStatusForGroup = _react.default.useCallback(function (group) {\n    var status = \"\".concat(group.membersCount, \" \").concat((0, _2.localize)(\"MEMBERS\"));\n    setMessageHeaderStatus(status);\n    //setUserPresence(CometChat.USER_STATUS.OFFLINE);\n  }, [setMessageHeaderStatus]);\n\n  //update receiver user\n  _react.default.useEffect(function () {\n    if (props.user && props.user.uid) {\n      if (props.user.name) {\n        setChatWithType(_.CometChatMessageReceiverType.user);\n        setChatWith(props.user);\n        updateMessageHeaderStatusForUser(props.user);\n      } else {\n        getUser(props.user.uid).then(function (user) {\n          setChatWithType(_.CometChatMessageReceiverType.user);\n          setChatWith(user);\n          updateMessageHeaderStatusForUser(user);\n        }).catch(function (error) {\n          return errorHandler(error);\n        });\n      }\n    } else if (props.group && props.group.guid) {\n      if (props.group.name) {\n        setChatWithType(_.CometChatMessageReceiverType.group);\n        setChatWith(props.group);\n        updateMessageHeaderStatusForGroup(props.group);\n      } else {\n        getGroup(props.group.guid).then(function (group) {\n          setChatWithType(_.CometChatMessageReceiverType.group);\n          setChatWith(group);\n          updateMessageHeaderStatusForGroup(group);\n        }).catch(function (error) {\n          return errorHandler(error);\n        });\n      }\n    }\n  }, [props.user, props.group, setChatWith, setChatWithType, updateMessageHeaderStatusForUser, updateMessageHeaderStatusForGroup]);\n  _react.default.useEffect(function () {\n    var handler = handlers[callbackData === null || callbackData === void 0 ? void 0 : callbackData.name];\n    if (handler) return handler.apply(void 0, (0, _toConsumableArray2.default)(callbackData === null || callbackData === void 0 ? void 0 : callbackData.args));\n  }, [callbackData, handlers]);\n};\nexports.Hooks = Hooks;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","Hooks","_toConsumableArray2","_react","_chat","_","_2","getUser","uid","Promise","resolve","reject","CometChat","then","user","catch","error","getGroup","guid","group","props","loggedInUser","setChatWith","setChatWithType","setMessageHeaderStatus","setUserPresence","messageHeaderManager","messageHeaderCallback","handlers","callbackData","errorHandler","default","useEffect","getLoggedinUser","_messageHeaderManager","current","attachListeners","updateMessageHeaderStatusForUser","useCallback","status","UserStatusConstants","offline","localize","online","updateMessageHeaderStatusForGroup","concat","membersCount","name","CometChatMessageReceiverType","handler","apply","args"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/node_modules/react-ui-kit-testing/dist/Messages/CometChatMessageHeader/hooks.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Hooks = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _chat = require(\"@cometchat-pro/chat\");\nvar _ = require(\"..\");\nvar _2 = require(\"../..\");\nvar getUser = function getUser(uid) {\n  return new Promise(function (resolve, reject) {\n    _chat.CometChat.getUser(uid).then(function (user) {\n      return resolve(user);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n};\nvar getGroup = function getGroup(guid) {\n  return new Promise(function (resolve, reject) {\n    _chat.CometChat.getGroup(guid).then(function (group) {\n      return resolve(group);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n};\nvar Hooks = function Hooks(props, loggedInUser, setChatWith, setChatWithType, setMessageHeaderStatus, setUserPresence, messageHeaderManager, messageHeaderCallback, handlers, callbackData, errorHandler) {\n  //fetch logged in user\n  _react.default.useEffect(function () {\n    _chat.CometChat.getLoggedinUser().then(function (user) {\n      var _messageHeaderManager;\n      loggedInUser.current = user;\n      (_messageHeaderManager = messageHeaderManager.current) === null || _messageHeaderManager === void 0 ? void 0 : _messageHeaderManager.attachListeners(messageHeaderCallback);\n    }).catch(function (error) {\n      return errorHandler(error);\n    });\n  }, []);\n  var updateMessageHeaderStatusForUser = _react.default.useCallback(function (user) {\n    if (user.status === _2.UserStatusConstants.offline) {\n      setMessageHeaderStatus((0, _2.localize)(\"OFFLINE\"));\n      setUserPresence(_2.UserStatusConstants.offline);\n    } else if (user.status === _2.UserStatusConstants.online) {\n      setMessageHeaderStatus((0, _2.localize)(\"ONLINE\"));\n      setUserPresence(_2.UserStatusConstants.online);\n    }\n  }, [setMessageHeaderStatus, setUserPresence]);\n  var updateMessageHeaderStatusForGroup = _react.default.useCallback(function (group) {\n    var status = \"\".concat(group.membersCount, \" \").concat((0, _2.localize)(\"MEMBERS\"));\n    setMessageHeaderStatus(status);\n    //setUserPresence(CometChat.USER_STATUS.OFFLINE);\n  }, [setMessageHeaderStatus]);\n\n  //update receiver user\n  _react.default.useEffect(function () {\n    if (props.user && props.user.uid) {\n      if (props.user.name) {\n        setChatWithType(_.CometChatMessageReceiverType.user);\n        setChatWith(props.user);\n        updateMessageHeaderStatusForUser(props.user);\n      } else {\n        getUser(props.user.uid).then(function (user) {\n          setChatWithType(_.CometChatMessageReceiverType.user);\n          setChatWith(user);\n          updateMessageHeaderStatusForUser(user);\n        }).catch(function (error) {\n          return errorHandler(error);\n        });\n      }\n    } else if (props.group && props.group.guid) {\n      if (props.group.name) {\n        setChatWithType(_.CometChatMessageReceiverType.group);\n        setChatWith(props.group);\n        updateMessageHeaderStatusForGroup(props.group);\n      } else {\n        getGroup(props.group.guid).then(function (group) {\n          setChatWithType(_.CometChatMessageReceiverType.group);\n          setChatWith(group);\n          updateMessageHeaderStatusForGroup(group);\n        }).catch(function (error) {\n          return errorHandler(error);\n        });\n      }\n    }\n  }, [props.user, props.group, setChatWith, setChatWithType, updateMessageHeaderStatusForUser, updateMessageHeaderStatusForGroup]);\n  _react.default.useEffect(function () {\n    var handler = handlers[callbackData === null || callbackData === void 0 ? void 0 : callbackData.name];\n    if (handler) return handler.apply(void 0, (0, _toConsumableArray2.default)(callbackData === null || callbackData === void 0 ? void 0 : callbackData.args));\n  }, [callbackData, handlers]);\n};\nexports.Hooks = Hooks;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}