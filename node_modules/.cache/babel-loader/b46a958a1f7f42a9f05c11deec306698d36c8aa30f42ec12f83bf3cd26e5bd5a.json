{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CometChatMessageBubble = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _ = require(\"../..\");\nvar _2 = require(\"../../..\");\nvar _style = require(\"./style\");\nvar _Shared = require(\"../../../Shared\");\nvar _3 = require(\"..\");\nvar _downloadIcon = _interopRequireDefault(require(\"./resources/download-icon.svg\"));\nvar _whiteboard = _interopRequireDefault(require(\"./resources/whiteboard.svg\"));\nvar _collaborative = _interopRequireDefault(require(\"./resources/collaborative.svg\"));\nvar _closeChat = _interopRequireDefault(require(\"./resources/close-chat.svg\"));\nvar _unsafeContent = _interopRequireDefault(require(\"./resources/unsafe-content.svg\"));\nvar _MessageReactionsConfiguration = require(\"../../CometChatMessageReactions/MessageReactionsConfiguration\");\nvar _DateConfiguration = require(\"../../../Shared/PrimaryComponents/CometChatConfiguration/DateConfiguration\");\nvar _TextBubbleConfiguration = require(\"../CometChatTextBubble/TextBubbleConfiguration\");\nvar _FileBubbleConfiguration = require(\"../CometChatFileBubble/FileBubbleConfiguration\");\nvar _ImageBubbleConfiguration = require(\"../CometChatImageBubble/ImageBubbleConfiguration\");\nvar _AudioBubbleConfiguration = require(\"../CometChatAudioBubble/AudioBubbleConfiguration\");\nvar _VideoBubbleConfiguration = require(\"../CometChatVideoBubble/VideoBubbleConfiguration\");\nvar _PollBubbleConfiguration = require(\"../CometChatPollBubble/PollBubbleConfiguration\");\nvar _StickerBubbleConfiguration = require(\"../CometChatStickerBubble/StickerBubbleConfiguration\");\nvar _DeletedBubbleConfiguration = require(\"../CometChatDeletedMessageBubble/DeletedBubbleConfiguration\");\nvar _CollaborativeDocumentConfiguration = require(\"../CometChatDocumentBubble/CollaborativeDocumentConfiguration\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n/**\n *CometChatMessageBubble handles the display and functionality for all types of messages in a message list.\n *It renders different bubbles according to the message type provided to it by the parent.\n *\n * @version 1.0.0\n * @author CometChatTeam\n * @copyright Â© 2022 CometChat Inc.\n */\n\nvar CometChatMessageBubble = function CometChatMessageBubble(props) {\n  var messageKey = props.messageKey,\n    customView = props.customView,\n    messageBubbleData = props.messageBubbleData,\n    timeAlignment = props.timeAlignment,\n    messageOptions = props.messageOptions,\n    messageObject = props.messageObject,\n    alignment = props.alignment,\n    updateReaction = props.updateReaction,\n    loggedInUser = props.loggedInUser,\n    style = props.style,\n    theme = props.theme,\n    avatarConfiguration = props.avatarConfiguration,\n    messageReceiptConfiguration = props.messageReceiptConfiguration,\n    messageReactionsConfiguration = props.messageReactionsConfiguration,\n    dateConfiguration = props.dateConfiguration;\n  var _React$useState = _react.default.useState(null),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    isHovering = _React$useState2[0],\n    setIsHovering = _React$useState2[1];\n  var _theme = new _2.CometChatTheme(theme || {});\n  var _avatarConfiguration = avatarConfiguration || new _2.AvatarConfiguration({});\n  var _messageReactionsConfiguration = messageReactionsConfiguration || new _MessageReactionsConfiguration.MessageReactionsConfiguration({});\n\n  /**\n   *\n   * @returns ID for each Bubble rendered\n   */\n  var getId = function getId() {\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.id && messageObject.id ? messageObject.id : null;\n  };\n\n  /**\n   *\n   * @returns Avatar, if the user enabled thumbnail of messageBubbleData\n   */\n  var getAvatar = function getAvatar() {\n    var _avatarConfiguration$, _avatarConfiguration$2, _avatarConfiguration$3, _avatarConfiguration$4, _avatarConfiguration$5, _theme$palette, _theme$palette2, _avatarConfiguration$6, _theme$typography, _theme$palette3, _theme$palette4, _avatarConfiguration$7, _avatarConfiguration$8, _avatarConfiguration$9, _theme$palette5, _theme$palette6;\n    var outerViewWidth = _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : _avatarConfiguration.outerViewWidth;\n    var outerView = \"\".concat(outerViewWidth, \" solid \").concat(_theme.palette.primary[_theme.palette.mode]);\n    var avatarStyle = new _Shared.AvatarStyles({\n      width: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$ = _avatarConfiguration.style) === null || _avatarConfiguration$ === void 0 ? void 0 : _avatarConfiguration$.width,\n      height: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$2 = _avatarConfiguration.style) === null || _avatarConfiguration$2 === void 0 ? void 0 : _avatarConfiguration$2.height,\n      outerViewSpacing: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$3 = _avatarConfiguration.style) === null || _avatarConfiguration$3 === void 0 ? void 0 : _avatarConfiguration$3.outerViewSpacing,\n      outerView: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$4 = _avatarConfiguration.style) === null || _avatarConfiguration$4 === void 0 ? void 0 : _avatarConfiguration$4.outerViewSpacing) || outerView,\n      textColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$5 = _avatarConfiguration.style) === null || _avatarConfiguration$5 === void 0 ? void 0 : _avatarConfiguration$5.textColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette = _theme.palette) === null || _theme$palette === void 0 ? void 0 : _theme$palette.accent900[_theme === null || _theme === void 0 ? void 0 : (_theme$palette2 = _theme.palette) === null || _theme$palette2 === void 0 ? void 0 : _theme$palette2.mode]),\n      textFont: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$6 = _avatarConfiguration.style) === null || _avatarConfiguration$6 === void 0 ? void 0 : _avatarConfiguration$6.textFont) || (0, _2.fontHelper)(_theme === null || _theme === void 0 ? void 0 : (_theme$typography = _theme.typography) === null || _theme$typography === void 0 ? void 0 : _theme$typography.name),\n      border: \"1px solid \".concat(_theme === null || _theme === void 0 ? void 0 : (_theme$palette3 = _theme.palette) === null || _theme$palette3 === void 0 ? void 0 : _theme$palette3.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette4 = _theme.palette) === null || _theme$palette4 === void 0 ? void 0 : _theme$palette4.mode]),\n      borderRadius: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$7 = _avatarConfiguration.style) === null || _avatarConfiguration$7 === void 0 ? void 0 : _avatarConfiguration$7.borderRadius,\n      backgroundSize: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$8 = _avatarConfiguration.style) === null || _avatarConfiguration$8 === void 0 ? void 0 : _avatarConfiguration$8.backgroundSize,\n      backgroundColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$9 = _avatarConfiguration.style) === null || _avatarConfiguration$9 === void 0 ? void 0 : _avatarConfiguration$9.backgroundColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette5 = _theme.palette) === null || _theme$palette5 === void 0 ? void 0 : _theme$palette5.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette6 = _theme.palette) === null || _theme$palette6 === void 0 ? void 0 : _theme$palette6.mode])\n    });\n\n    // if messageObject has thumbnail key\n    if (messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail) {\n      var _messageObject$sender, _messageObject$sender2;\n      if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender = messageObject.sender) !== null && _messageObject$sender !== void 0 && _messageObject$sender.avatar) {\n        // If Icon provided\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageAvatarStyle)(),\n          className: \"message_kit__avatar\"\n        }, /*#__PURE__*/_react.default.createElement(_2.CometChatAvatar, (0, _extends2.default)({}, avatarStyle, {\n          image: messageObject.sender.avatar\n        })));\n      } else if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender2 = messageObject.sender) !== null && _messageObject$sender2 !== void 0 && _messageObject$sender2.name) {\n        // show initials for name\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageAvatarStyle)(),\n          className: \"message_kit__avatar\"\n        }, /*#__PURE__*/_react.default.createElement(_2.CometChatAvatar, (0, _extends2.default)({}, avatarStyle, {\n          name: messageObject.sender.name\n        })));\n      }\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @param {*} customView\n   * @returns custom Bubble set by The user\n   */\n  var getCustomView = function getCustomView(customView) {\n    //return customView;\n    return /*#__PURE__*/_react.default.createElement(customView, _objectSpread({\n      key: messageObject.key,\n      messageBubbleData: messageBubbleData,\n      alignment: alignment,\n      timeAlignment: timeAlignment,\n      messageObject: messageObject,\n      messageOptions: messageOptions,\n      loggedInUser: loggedInUser\n    }, style));\n  };\n\n  /**\n   * Displays message options of a bubble when mouse is hovered on it\n   */\n  var getMessageOptions = function getMessageOptions() {\n    return isHovering && messageObject && !messageObject.deletedAt ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_2.CometChatMenuList, {\n      isOpen: true,\n      key: messageObject.id,\n      data: messageObject,\n      list: messageOptions,\n      style: (0, _style.messageOptionStyle)(alignment, loggedInUser, messageObject, _theme)\n    })) : null;\n  };\n\n  /**\n   *\n   * @returns Message text in a bubble of type based on the message itself\n   */\n  var getMessage = function getMessage() {\n    /**\n     * Returns a bubble based on messageObject type\n     */\n\n    if (customView) {\n      return getCustomView(customView);\n    } else if (messageObject.category === _2.MessageCategoryConstants.message) {\n      var messageStyle = {};\n\n      /** emoji font according to number of emoji to be display */\n      var emojiFont = function emojiFont(str) {\n        var strLength = str === null || str === void 0 ? void 0 : str.length;\n        var fontSize = null;\n        if (strLength) {\n          var emojiRE = str === null || str === void 0 ? void 0 : str.match(/(?:[\\xA9\\xAE\\u2122\\u23E9-\\u23EF\\u23F3\\u23F8-\\u23FA\\u24C2\\u25B6\\u2600-\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDE51\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDE4F\\uDE80-\\uDEFF]|\\uD83E[\\uDD00-\\uDDFF])/g);\n          var numbers = emojiRE === null || emojiRE === void 0 ? void 0 : emojiRE.length;\n          if (numbers === 1 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"32px\";\n          } else if (numbers === 2 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"24px\";\n          } else if (numbers === 3 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"16px\";\n          }\n        }\n        return fontSize;\n      };\n      switch (messageObject.type) {\n        case _2.MessageTypeConstants.text:\n          {\n            var textColor;\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              textColor = {\n                textColor: _theme.palette.accent900[\"light\"]\n              };\n            } else {\n              textColor = {\n                textColor: _theme.palette.accent900[\"dark\"]\n              };\n            }\n            messageStyle = _objectSpread(_objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"\",\n              height: \"\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              textFont: emojiFont(messageObject.text) || (0, _2.fontHelper)(_theme.typography.subtitle1)\n            }, textColor), {}, {\n              linkPreviewTitleFont: (0, _2.fontHelper)(_theme.typography.title2),\n              linkPreviewTitleColor: _theme.palette.accent[_theme.palette.mode],\n              linkPreviewSubtitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n              linkPreviewSubtitleColor: _theme.palette.accent600[_theme.palette.mode],\n              linkPreviewBackgroundColor: _theme.palette.background[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatTextBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              overlayImageURL: _unsafeContent.default,\n              text: \"\",\n              linkPreviewTitle: \"\",\n              linkPreviewSubtitle: \"\",\n              theme: _theme,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.image:\n          {\n            messageStyle = _objectSpread({}, new _Shared.BaseStyles({\n              width: \"100%\",\n              height: \"168px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            }));\n            return /*#__PURE__*/_react.default.createElement(_.CometChatImageBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.video:\n          {\n            messageStyle = _objectSpread({}, new _Shared.BaseStyles({\n              width: \"250px\",\n              height: \"200px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            }));\n            return /*#__PURE__*/_react.default.createElement(_.CometChatVideoBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.audio:\n          {\n            messageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"250px\",\n              height: \"auto\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              iconTint: _theme.palette.primary[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatAudioBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.file:\n          {\n            messageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"190px\",\n              height: \"56px\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n              subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n              iconTint: _theme.palette.primary[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatFileBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              iconURL: _downloadIcon.default,\n              style: messageStyle,\n              theme: _theme\n            });\n          }\n        default:\n      }\n    } else if (props.messageObject.category === _2.MessageCategoryConstants.custom) {\n      var customMessageStyle = {};\n      switch (messageObject.type) {\n        case _2.MessageTypeConstants.poll:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                votePercentTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                //not in skecth\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                //not in sketch\n                pollQuestionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                totalVoteCountTextFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                background: \"transparent\",\n                votePercentTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollQuestionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                totalVoteCountTextFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                pollOptionBorder: \"none\",\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatPollBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              pollQuestion: \"\",\n              options: null,\n              totalVoteCount: null,\n              optionIconURL: null,\n              loggedInUser: loggedInUser || loggedInUser,\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.sticker:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right || alignment === _2.MessageBubbleAlignmentConstants.left) {\n              customMessageStyle = _objectSpread({}, new _Shared.BaseStyles({\n                width: \"150px\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              }));\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatStickerBubble, {\n              key: messageKey,\n              messageObject: messageObject,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.whiteboard:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatWhiteboardBubble, {\n              whiteboardURL: \"\",\n              key: messageKey,\n              messageObject: messageObject,\n              subTitle: (0, _2.localize)(\"WHITEBOARD_SUBTITLE_MESSAGE\"),\n              iconURL: _whiteboard.default,\n              title: (0, _2.localize)(\"SHARED_COLLABORATIVE_WHITEBOARD\"),\n              buttonText: (0, _2.localize)(\"OPEN_WHITEBOARD\"),\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.document:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatDocumentBubble, {\n              key: messageKey,\n              messageObject: messageObject,\n              iconURL: _collaborative.default,\n              title: (0, _2.localize)(\"SHARED_COLLABORATIVE_DOCUMENT\"),\n              subTitle: (0, _2.localize)(\"DOCUMENT_SUBTITLE_MESSAGE\"),\n              buttonText: (0, _2.localize)(\"OPEN_DOCUMENT\"),\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        default:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                textColor: _theme.palette.primary[_theme.palette.mode],\n                textFont: (0, _2.fontHelper)(_theme.typography.subtitle1)\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                textColor: _theme.palette.accent[_theme.palette.mode],\n                textFont: (0, _2.fontHelper)(_theme.typography.subtitle1)\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatPlaceholderBubble, {\n              key: messageKey,\n              style: customMessageStyle,\n              text: messageObject.type + \"message is not supported\"\n            });\n          }\n      }\n    }\n  };\n\n  /**\n   * Returns delete bubble view if a message is deleted\n   */\n  var getDeleteBubble = function getDeleteBubble() {\n    return /*#__PURE__*/_react.default.createElement(_.CometChatDeletedMessageBubble, {\n      text: (0, _2.localize)(\"MESSAGE_IS_DELETED\"),\n      style: (0, _style.deleteBubbleStyle)(_theme)\n    });\n  };\n\n  /**\n   *\n   * @returns Reactions on a message\n   */\n  var messageReactions = function messageReactions() {\n    var reactionsData = (0, _2.getExtensionsData)(messageObject, _2.ExtensionConstants.reactions);\n    if (reactionsData && Object.keys(reactionsData).length) {\n      return /*#__PURE__*/_react.default.createElement(_.CometChatMessageReactions, {\n        messageObject: messageObject,\n        loggedInUser: loggedInUser,\n        addReactionIconURL: _messageReactionsConfiguration.addReactionIconURL,\n        style: (0, _style.reactionsStyle)(_theme, alignment, messageObject),\n        updateReaction: updateReaction\n      });\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @returns translated text on using text translate\n   */\n  var getTranslatedMessage = function getTranslatedMessage() {\n    var _messageObject$metada;\n    if (messageObject !== null && messageObject !== void 0 && (_messageObject$metada = messageObject.metadata) !== null && _messageObject$metada !== void 0 && _messageObject$metada.translatedText) {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"message_translate__block\",\n        style: (0, _style.translatedTextBlockStyle)(alignment, _theme)\n      }, /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"message_translate__text\",\n        style: (0, _style.translateTextStyle)()\n      }, messageObject.metadata.translatedText), /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"message_translate__label\",\n        style: (0, _style.translateLabelText)(alignment, _theme)\n      }, (0, _2.localize)(\"TRANSLATED_MESSAGE\")));\n    }\n  };\n\n  /**\n   * Displays a component when Mouse Hovers on a bubble\n   */\n  var showMessageOptions = function showMessageOptions() {\n    if (!isHovering) {\n      setIsHovering(true);\n    }\n  };\n\n  /**\n   * Hides the component when Mouse doesn't hover anymore on the bubble\n   */\n  var hideMessageOptions = function hideMessageOptions() {\n    if (isHovering) {\n      setIsHovering(false);\n    }\n  };\n\n  /**\n   *\n   * @returns name of the sender\n   */\n  var getSenderName = function getSenderName() {\n    var _messageObject$sender3;\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title && messageObject !== null && messageObject !== void 0 && (_messageObject$sender3 = messageObject.sender) !== null && _messageObject$sender3 !== void 0 && _messageObject$sender3.name ? /*#__PURE__*/_react.default.createElement(\"span\", {\n      style: (0, _style.messageSenderStyle)(style, _theme),\n      className: \"message_kit__sender\"\n    }, messageObject.sender.name) : null;\n  };\n\n  /**\n   *\n   * @returns time of message sent\n   */\n  var getMessageTime = function getMessageTime() {\n    var _dateConfiguration = dateConfiguration || new _DateConfiguration.DateConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp && messageObject !== null && messageObject !== void 0 && messageObject.sentAt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n      style: (0, _style.messageTimestampStyle)(style, _theme),\n      className: \"message_kit__time_bar\"\n    }, /*#__PURE__*/_react.default.createElement(_2.CometChatDate, {\n      timestamp: messageObject.sentAt || _dateConfiguration.timeStamp,\n      pattern: \"timeFormat\" || _dateConfiguration.pattern,\n      style: {\n        textFont: style.timestampFont || (0, _2.fontHelper)(_theme.typography.caption1),\n        textColor: style.timestampColor || _theme.palette.accent[_theme.palette.mode]\n      }\n    })) : null;\n  };\n  var getMessageReceipt = function getMessageReceipt() {\n    var _messageReceiptConfiguration = messageReceiptConfiguration || new _2.MessageReceiptConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(_2.CometChatMessageReceipt, {\n      messageObject: messageObject,\n      loggedInUser: loggedInUser,\n      messageDeliveredIcon: _messageReceiptConfiguration.messageDeliveredIcon,\n      messageErrorIcon: _messageReceiptConfiguration.messageErrorIcon,\n      messageSentIcon: _messageReceiptConfiguration.messageSentIcon,\n      messageWaitIcon: _messageReceiptConfiguration.messageWaitIcon,\n      messageReadIcon: _messageReceiptConfiguration.messageReadIcon\n    }) : null;\n  };\n  var getLeftView = function getLeftView() {\n    //if the message bubble is aligned to the left\n\n    if (alignment === _2.MessageBubbleAlignmentConstants.left) {\n      return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageLeftGutterStyle)(),\n        className: \"message_kit__gutter__left\"\n      }, getAvatar()) : null;\n\n      //if the message bubble is aligned to the right\n    } else {\n      var _messageObject$sender4;\n      var topBar = null;\n      var bottomBar = null;\n\n      //if loggedin user is the sender\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender4 = messageObject.sender) === null || _messageObject$sender4 === void 0 ? void 0 : _messageObject$sender4.uid)) {\n        //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n        if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.top) {\n          topBar = messageBubbleData.timestamp || messageBubbleData.title ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageSenderStyle)(style, _theme),\n            className: \"message_kit__username_bar\"\n          }, getMessageTime(), \"\\xA0\", getSenderName()) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageReceipt()) : null;\n        } else if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.bottom) {\n          topBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageSenderStyle)(style, _theme),\n            className: \"message_kit__username_bar\"\n          }, getSenderName()) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp || messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime(), \"\\xA0\", getMessageReceipt()) : null;\n        }\n      }\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageLeftGutterStyle)(),\n        className: \"message_kit__gutter__left\"\n      }, topBar, /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"data-id\": getId(),\n        className: \"message_kit__hover\",\n        onMouseEnter: showMessageOptions,\n        onMouseLeave: hideMessageOptions\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageBlockStyle)(alignment, style, messageObject, _theme),\n        className: \"messageBlockStyle\"\n      }, messageObject && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()))), bottomBar);\n    }\n  };\n  var getRightview = function getRightview() {\n    //if the message bubble is aligned to left\n    if (alignment === _2.MessageBubbleAlignmentConstants.left) {\n      var topBar = getSenderName();\n      var bottomBar = null;\n\n      //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n      if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.top) {\n        var _messageObject$sender5;\n        topBar = messageBubbleData.title || messageBubbleData.timestamp ? /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageNameTimestampStyle)(),\n          className: \"message_kit__username_bar\"\n        }, getSenderName(), \"\\xA0\", getMessageTime()) : null;\n\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender5 = messageObject.sender) === null || _messageObject$sender5 === void 0 ? void 0 : _messageObject$sender5.uid) && messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt) {\n          bottomBar = /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageReceipt());\n        }\n\n        //if timestamp is to be shown at the bottom of the message bubble i.e. similar to slack\n      } else if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.bottom) {\n        var _messageObject$sender6;\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender6 = messageObject.sender) === null || _messageObject$sender6 === void 0 ? void 0 : _messageObject$sender6.uid)) {\n          bottomBar = messageBubbleData.timestamp || messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime(), \"\\xA0\", getMessageReceipt()) : null;\n        } else {\n          bottomBar = /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime());\n        }\n      }\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageRightGutterStyle)(),\n        className: \"message_kit__gutter__right\"\n      }, topBar, /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"data-id\": getId(),\n        className: \"message_kit__hover\",\n        onMouseEnter: showMessageOptions,\n        onMouseLeave: hideMessageOptions\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageBlockStyle)(alignment, style, messageObject, _theme),\n        className: \"messageBlockStyle\"\n      }, messageObject !== null && messageObject !== void 0 && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()))), bottomBar);\n    } else {\n      var _messageObject$sender7;\n      //if loggedin user is the sender of the message\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender7 = messageObject.sender) === null || _messageObject$sender7 === void 0 ? void 0 : _messageObject$sender7.uid)) {\n        return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageLeftGutterStyle)(),\n          className: \"message_kit__gutter__right\"\n        }, getAvatar()) : null;\n      }\n    }\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: (0, _style.messageActionsStyle)(props, _theme),\n    className: \"message_kit__actions\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: (0, _style.messageGutterStyle)(),\n    className: \"c-message_kit__gutter\"\n  }, getLeftView(), getRightview()));\n};\nexports.CometChatMessageBubble = CometChatMessageBubble;\nCometChatMessageBubble.defaultProps = {\n  messageBubbleData: {\n    id: true,\n    thumbnail: true,\n    title: false,\n    timestamp: true,\n    readReceipt: true\n  },\n  timeAlignment: \"bottom\",\n  messageOptions: [],\n  messageObject: null,\n  alignment: \"standard\",\n  loggedInUser: null,\n  style: {\n    width: \"\",\n    height: \"\",\n    nameTextFont: \"\",\n    nameTextColor: \"\",\n    border: \"\",\n    background: \"\",\n    borderRadius: \"\",\n    timestampFont: \"\",\n    timestampColor: \"\"\n  }\n};\nCometChatMessageBubble.propTypes = {\n  messageBubbleData: _propTypes.default.object,\n  timeAlignment: _propTypes.default.string,\n  messageOptions: _propTypes.default.array,\n  messageObject: _propTypes.default.object,\n  alignment: _propTypes.default.string,\n  loggedInUser: _propTypes.default.object,\n  style: _propTypes.default.object,\n  avatarConfiguration: _propTypes.default.object,\n  messageReceiptConfiguration: _propTypes.default.object,\n  messageReactionsConfiguration: _propTypes.default.object,\n  dateConfiguration: _propTypes.default.object,\n  textBubbleConfiguration: _propTypes.default.object,\n  fileBubbleConfiguration: _propTypes.default.object,\n  imageBubbleConfiguration: _propTypes.default.object,\n  audioBubbleConfiguration: _propTypes.default.object,\n  videoBubbleConfiguration: _propTypes.default.object,\n  pollBubbleConfiguration: _propTypes.default.object,\n  stickerBubbleConfiguration: _propTypes.default.object,\n  deletedBubbleConfiguration: _propTypes.default.object,\n  collaborativeWhiteboardConfiguration: _propTypes.default.object,\n  collaborativeDocumentConfiguration: _propTypes.default.object\n};","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","CometChatMessageBubble","_defineProperty2","_extends2","_slicedToArray2","_react","_propTypes","_","_2","_style","_Shared","_3","_downloadIcon","_whiteboard","_collaborative","_closeChat","_unsafeContent","_MessageReactionsConfiguration","_DateConfiguration","_TextBubbleConfiguration","_FileBubbleConfiguration","_ImageBubbleConfiguration","_AudioBubbleConfiguration","_VideoBubbleConfiguration","_PollBubbleConfiguration","_StickerBubbleConfiguration","_DeletedBubbleConfiguration","_CollaborativeDocumentConfiguration","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","default","getOwnPropertyDescriptors","defineProperties","props","messageKey","customView","messageBubbleData","timeAlignment","messageOptions","messageObject","alignment","updateReaction","loggedInUser","style","theme","avatarConfiguration","messageReceiptConfiguration","messageReactionsConfiguration","dateConfiguration","_React$useState","useState","_React$useState2","isHovering","setIsHovering","_theme","CometChatTheme","_avatarConfiguration","AvatarConfiguration","_messageReactionsConfiguration","MessageReactionsConfiguration","getId","id","getAvatar","_avatarConfiguration$","_avatarConfiguration$2","_avatarConfiguration$3","_avatarConfiguration$4","_avatarConfiguration$5","_theme$palette","_theme$palette2","_avatarConfiguration$6","_theme$typography","_theme$palette3","_theme$palette4","_avatarConfiguration$7","_avatarConfiguration$8","_avatarConfiguration$9","_theme$palette5","_theme$palette6","outerViewWidth","outerView","concat","palette","primary","mode","avatarStyle","AvatarStyles","width","height","outerViewSpacing","textColor","accent900","textFont","fontHelper","typography","name","border","accent600","borderRadius","backgroundSize","backgroundColor","thumbnail","_messageObject$sender","_messageObject$sender2","sender","avatar","createElement","messageAvatarStyle","className","CometChatAvatar","image","getCustomView","getMessageOptions","deletedAt","CometChatMenuList","isOpen","data","list","messageOptionStyle","getMessage","category","MessageCategoryConstants","message","messageStyle","emojiFont","str","strLength","fontSize","emojiRE","match","numbers","parseInt","type","MessageTypeConstants","text","MessageBubbleAlignmentConstants","right","BaseStyles","background","activeBackground","subtitle1","linkPreviewTitleFont","title2","linkPreviewTitleColor","accent","linkPreviewSubtitleFont","subtitle2","linkPreviewSubtitleColor","linkPreviewBackgroundColor","CometChatTextBubble","overlayImageURL","linkPreviewTitle","linkPreviewSubtitle","CometChatImageBubble","video","CometChatVideoBubble","audio","iconTint","CometChatAudioBubble","file","titleFont","subTitleFont","titleColor","subTitleColor","CometChatFileBubble","iconURL","custom","customMessageStyle","poll","votePercentTextFont","votePercentTextColor","pollQuestionTextFont","pollQuestionTextColor","pollOptionTextFont","pollOptionTextColor","pollOptionsBackground","optionIconTint","optionsIconTint","accent500","totalVoteCountTextFont","totalVoteCountTextColor","selectedPollOptionBackground","pollOptionBorder","CometChatPollBubble","pollQuestion","options","totalVoteCount","optionIconURL","sticker","left","CometChatStickerBubble","whiteboard","accent700","buttonTextColor","buttonTextFont","buttonBackground","CometChatWhiteboardBubble","whiteboardURL","subTitle","localize","title","buttonText","document","CometChatDocumentBubble","CometChatPlaceholderBubble","getDeleteBubble","CometChatDeletedMessageBubble","deleteBubbleStyle","messageReactions","reactionsData","getExtensionsData","ExtensionConstants","reactions","CometChatMessageReactions","addReactionIconURL","reactionsStyle","getTranslatedMessage","_messageObject$metada","metadata","translatedText","translatedTextBlockStyle","translateTextStyle","translateLabelText","showMessageOptions","hideMessageOptions","getSenderName","_messageObject$sender3","messageSenderStyle","getMessageTime","_dateConfiguration","DateConfiguration","timestamp","sentAt","messageTimestampStyle","CometChatDate","timeStamp","pattern","timestampFont","caption1","timestampColor","getMessageReceipt","_messageReceiptConfiguration","MessageReceiptConfiguration","readReceipt","CometChatMessageReceipt","messageDeliveredIcon","messageErrorIcon","messageSentIcon","messageWaitIcon","messageReadIcon","getLeftView","messageLeftGutterStyle","_messageObject$sender4","topBar","bottomBar","uid","toLowerCase","MessageTimeAlignmentConstants","top","messageKitReceiptStyle","bottom","onMouseEnter","onMouseLeave","messageBlockStyle","Fragment","getRightview","_messageObject$sender5","messageNameTimestampStyle","_messageObject$sender6","messageRightGutterStyle","_messageObject$sender7","messageActionsStyle","messageGutterStyle","defaultProps","nameTextFont","nameTextColor","propTypes","string","array","textBubbleConfiguration","fileBubbleConfiguration","imageBubbleConfiguration","audioBubbleConfiguration","videoBubbleConfiguration","pollBubbleConfiguration","stickerBubbleConfiguration","deletedBubbleConfiguration","collaborativeWhiteboardConfiguration","collaborativeDocumentConfiguration"],"sources":["/home/admin1/dev/react/sample-react-guides/node_modules/react-ui-kit-testing/dist/Messages/Bubbles/CometChatMessageBubble/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CometChatMessageBubble = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _ = require(\"../..\");\nvar _2 = require(\"../../..\");\nvar _style = require(\"./style\");\nvar _Shared = require(\"../../../Shared\");\nvar _3 = require(\"..\");\nvar _downloadIcon = _interopRequireDefault(require(\"./resources/download-icon.svg\"));\nvar _whiteboard = _interopRequireDefault(require(\"./resources/whiteboard.svg\"));\nvar _collaborative = _interopRequireDefault(require(\"./resources/collaborative.svg\"));\nvar _closeChat = _interopRequireDefault(require(\"./resources/close-chat.svg\"));\nvar _unsafeContent = _interopRequireDefault(require(\"./resources/unsafe-content.svg\"));\nvar _MessageReactionsConfiguration = require(\"../../CometChatMessageReactions/MessageReactionsConfiguration\");\nvar _DateConfiguration = require(\"../../../Shared/PrimaryComponents/CometChatConfiguration/DateConfiguration\");\nvar _TextBubbleConfiguration = require(\"../CometChatTextBubble/TextBubbleConfiguration\");\nvar _FileBubbleConfiguration = require(\"../CometChatFileBubble/FileBubbleConfiguration\");\nvar _ImageBubbleConfiguration = require(\"../CometChatImageBubble/ImageBubbleConfiguration\");\nvar _AudioBubbleConfiguration = require(\"../CometChatAudioBubble/AudioBubbleConfiguration\");\nvar _VideoBubbleConfiguration = require(\"../CometChatVideoBubble/VideoBubbleConfiguration\");\nvar _PollBubbleConfiguration = require(\"../CometChatPollBubble/PollBubbleConfiguration\");\nvar _StickerBubbleConfiguration = require(\"../CometChatStickerBubble/StickerBubbleConfiguration\");\nvar _DeletedBubbleConfiguration = require(\"../CometChatDeletedMessageBubble/DeletedBubbleConfiguration\");\nvar _CollaborativeDocumentConfiguration = require(\"../CometChatDocumentBubble/CollaborativeDocumentConfiguration\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/**\n *CometChatMessageBubble handles the display and functionality for all types of messages in a message list.\n *It renders different bubbles according to the message type provided to it by the parent.\n *\n * @version 1.0.0\n * @author CometChatTeam\n * @copyright Â© 2022 CometChat Inc.\n */\n\nvar CometChatMessageBubble = function CometChatMessageBubble(props) {\n  var messageKey = props.messageKey,\n    customView = props.customView,\n    messageBubbleData = props.messageBubbleData,\n    timeAlignment = props.timeAlignment,\n    messageOptions = props.messageOptions,\n    messageObject = props.messageObject,\n    alignment = props.alignment,\n    updateReaction = props.updateReaction,\n    loggedInUser = props.loggedInUser,\n    style = props.style,\n    theme = props.theme,\n    avatarConfiguration = props.avatarConfiguration,\n    messageReceiptConfiguration = props.messageReceiptConfiguration,\n    messageReactionsConfiguration = props.messageReactionsConfiguration,\n    dateConfiguration = props.dateConfiguration;\n  var _React$useState = _react.default.useState(null),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    isHovering = _React$useState2[0],\n    setIsHovering = _React$useState2[1];\n  var _theme = new _2.CometChatTheme(theme || {});\n  var _avatarConfiguration = avatarConfiguration || new _2.AvatarConfiguration({});\n  var _messageReactionsConfiguration = messageReactionsConfiguration || new _MessageReactionsConfiguration.MessageReactionsConfiguration({});\n\n  /**\n   *\n   * @returns ID for each Bubble rendered\n   */\n  var getId = function getId() {\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.id && messageObject.id ? messageObject.id : null;\n  };\n\n  /**\n   *\n   * @returns Avatar, if the user enabled thumbnail of messageBubbleData\n   */\n  var getAvatar = function getAvatar() {\n    var _avatarConfiguration$, _avatarConfiguration$2, _avatarConfiguration$3, _avatarConfiguration$4, _avatarConfiguration$5, _theme$palette, _theme$palette2, _avatarConfiguration$6, _theme$typography, _theme$palette3, _theme$palette4, _avatarConfiguration$7, _avatarConfiguration$8, _avatarConfiguration$9, _theme$palette5, _theme$palette6;\n    var outerViewWidth = _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : _avatarConfiguration.outerViewWidth;\n    var outerView = \"\".concat(outerViewWidth, \" solid \").concat(_theme.palette.primary[_theme.palette.mode]);\n    var avatarStyle = new _Shared.AvatarStyles({\n      width: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$ = _avatarConfiguration.style) === null || _avatarConfiguration$ === void 0 ? void 0 : _avatarConfiguration$.width,\n      height: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$2 = _avatarConfiguration.style) === null || _avatarConfiguration$2 === void 0 ? void 0 : _avatarConfiguration$2.height,\n      outerViewSpacing: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$3 = _avatarConfiguration.style) === null || _avatarConfiguration$3 === void 0 ? void 0 : _avatarConfiguration$3.outerViewSpacing,\n      outerView: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$4 = _avatarConfiguration.style) === null || _avatarConfiguration$4 === void 0 ? void 0 : _avatarConfiguration$4.outerViewSpacing) || outerView,\n      textColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$5 = _avatarConfiguration.style) === null || _avatarConfiguration$5 === void 0 ? void 0 : _avatarConfiguration$5.textColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette = _theme.palette) === null || _theme$palette === void 0 ? void 0 : _theme$palette.accent900[_theme === null || _theme === void 0 ? void 0 : (_theme$palette2 = _theme.palette) === null || _theme$palette2 === void 0 ? void 0 : _theme$palette2.mode]),\n      textFont: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$6 = _avatarConfiguration.style) === null || _avatarConfiguration$6 === void 0 ? void 0 : _avatarConfiguration$6.textFont) || (0, _2.fontHelper)(_theme === null || _theme === void 0 ? void 0 : (_theme$typography = _theme.typography) === null || _theme$typography === void 0 ? void 0 : _theme$typography.name),\n      border: \"1px solid \".concat(_theme === null || _theme === void 0 ? void 0 : (_theme$palette3 = _theme.palette) === null || _theme$palette3 === void 0 ? void 0 : _theme$palette3.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette4 = _theme.palette) === null || _theme$palette4 === void 0 ? void 0 : _theme$palette4.mode]),\n      borderRadius: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$7 = _avatarConfiguration.style) === null || _avatarConfiguration$7 === void 0 ? void 0 : _avatarConfiguration$7.borderRadius,\n      backgroundSize: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$8 = _avatarConfiguration.style) === null || _avatarConfiguration$8 === void 0 ? void 0 : _avatarConfiguration$8.backgroundSize,\n      backgroundColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$9 = _avatarConfiguration.style) === null || _avatarConfiguration$9 === void 0 ? void 0 : _avatarConfiguration$9.backgroundColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette5 = _theme.palette) === null || _theme$palette5 === void 0 ? void 0 : _theme$palette5.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette6 = _theme.palette) === null || _theme$palette6 === void 0 ? void 0 : _theme$palette6.mode])\n    });\n\n    // if messageObject has thumbnail key\n    if (messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail) {\n      var _messageObject$sender, _messageObject$sender2;\n      if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender = messageObject.sender) !== null && _messageObject$sender !== void 0 && _messageObject$sender.avatar) {\n        // If Icon provided\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageAvatarStyle)(),\n          className: \"message_kit__avatar\"\n        }, /*#__PURE__*/_react.default.createElement(_2.CometChatAvatar, (0, _extends2.default)({}, avatarStyle, {\n          image: messageObject.sender.avatar\n        })));\n      } else if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender2 = messageObject.sender) !== null && _messageObject$sender2 !== void 0 && _messageObject$sender2.name) {\n        // show initials for name\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageAvatarStyle)(),\n          className: \"message_kit__avatar\"\n        }, /*#__PURE__*/_react.default.createElement(_2.CometChatAvatar, (0, _extends2.default)({}, avatarStyle, {\n          name: messageObject.sender.name\n        })));\n      }\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @param {*} customView\n   * @returns custom Bubble set by The user\n   */\n  var getCustomView = function getCustomView(customView) {\n    //return customView;\n    return /*#__PURE__*/_react.default.createElement(customView, _objectSpread({\n      key: messageObject.key,\n      messageBubbleData: messageBubbleData,\n      alignment: alignment,\n      timeAlignment: timeAlignment,\n      messageObject: messageObject,\n      messageOptions: messageOptions,\n      loggedInUser: loggedInUser\n    }, style));\n  };\n\n  /**\n   * Displays message options of a bubble when mouse is hovered on it\n   */\n  var getMessageOptions = function getMessageOptions() {\n    return isHovering && messageObject && !messageObject.deletedAt ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_2.CometChatMenuList, {\n      isOpen: true,\n      key: messageObject.id,\n      data: messageObject,\n      list: messageOptions,\n      style: (0, _style.messageOptionStyle)(alignment, loggedInUser, messageObject, _theme)\n    })) : null;\n  };\n\n  /**\n   *\n   * @returns Message text in a bubble of type based on the message itself\n   */\n  var getMessage = function getMessage() {\n    /**\n     * Returns a bubble based on messageObject type\n     */\n\n    if (customView) {\n      return getCustomView(customView);\n    } else if (messageObject.category === _2.MessageCategoryConstants.message) {\n      var messageStyle = {};\n\n      /** emoji font according to number of emoji to be display */\n      var emojiFont = function emojiFont(str) {\n        var strLength = str === null || str === void 0 ? void 0 : str.length;\n        var fontSize = null;\n        if (strLength) {\n          var emojiRE = str === null || str === void 0 ? void 0 : str.match(/(?:[\\xA9\\xAE\\u2122\\u23E9-\\u23EF\\u23F3\\u23F8-\\u23FA\\u24C2\\u25B6\\u2600-\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDE51\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDE4F\\uDE80-\\uDEFF]|\\uD83E[\\uDD00-\\uDDFF])/g);\n          var numbers = emojiRE === null || emojiRE === void 0 ? void 0 : emojiRE.length;\n          if (numbers === 1 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"32px\";\n          } else if (numbers === 2 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"24px\";\n          } else if (numbers === 3 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"16px\";\n          }\n        }\n        return fontSize;\n      };\n      switch (messageObject.type) {\n        case _2.MessageTypeConstants.text:\n          {\n            var textColor;\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              textColor = {\n                textColor: _theme.palette.accent900[\"light\"]\n              };\n            } else {\n              textColor = {\n                textColor: _theme.palette.accent900[\"dark\"]\n              };\n            }\n            messageStyle = _objectSpread(_objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"\",\n              height: \"\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              textFont: emojiFont(messageObject.text) || (0, _2.fontHelper)(_theme.typography.subtitle1)\n            }, textColor), {}, {\n              linkPreviewTitleFont: (0, _2.fontHelper)(_theme.typography.title2),\n              linkPreviewTitleColor: _theme.palette.accent[_theme.palette.mode],\n              linkPreviewSubtitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n              linkPreviewSubtitleColor: _theme.palette.accent600[_theme.palette.mode],\n              linkPreviewBackgroundColor: _theme.palette.background[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatTextBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              overlayImageURL: _unsafeContent.default,\n              text: \"\",\n              linkPreviewTitle: \"\",\n              linkPreviewSubtitle: \"\",\n              theme: _theme,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.image:\n          {\n            messageStyle = _objectSpread({}, new _Shared.BaseStyles({\n              width: \"100%\",\n              height: \"168px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            }));\n            return /*#__PURE__*/_react.default.createElement(_.CometChatImageBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.video:\n          {\n            messageStyle = _objectSpread({}, new _Shared.BaseStyles({\n              width: \"250px\",\n              height: \"200px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            }));\n            return /*#__PURE__*/_react.default.createElement(_.CometChatVideoBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.audio:\n          {\n            messageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"250px\",\n              height: \"auto\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              iconTint: _theme.palette.primary[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatAudioBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              style: messageStyle\n            });\n          }\n        case _2.MessageTypeConstants.file:\n          {\n            messageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n              width: \"190px\",\n              height: \"56px\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\"\n            })), {}, {\n              titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n              subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n              iconTint: _theme.palette.primary[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode]\n            });\n            return /*#__PURE__*/_react.default.createElement(_.CometChatFileBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              iconURL: _downloadIcon.default,\n              style: messageStyle,\n              theme: _theme\n            });\n          }\n        default:\n      }\n    } else if (props.messageObject.category === _2.MessageCategoryConstants.custom) {\n      var customMessageStyle = {};\n      switch (messageObject.type) {\n        case _2.MessageTypeConstants.poll:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                votePercentTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                //not in skecth\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                //not in sketch\n                pollQuestionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                totalVoteCountTextFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                background: \"transparent\",\n                votePercentTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollQuestionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextFont: (0, _2.fontHelper)(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                totalVoteCountTextFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                pollOptionBorder: \"none\",\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatPollBubble, {\n              key: messageObject.id,\n              messageObject: messageObject,\n              pollQuestion: \"\",\n              options: null,\n              totalVoteCount: null,\n              optionIconURL: null,\n              loggedInUser: loggedInUser || loggedInUser,\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.sticker:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right || alignment === _2.MessageBubbleAlignmentConstants.left) {\n              customMessageStyle = _objectSpread({}, new _Shared.BaseStyles({\n                width: \"150px\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              }));\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatStickerBubble, {\n              key: messageKey,\n              messageObject: messageObject,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.whiteboard:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatWhiteboardBubble, {\n              whiteboardURL: \"\",\n              key: messageKey,\n              messageObject: messageObject,\n              subTitle: (0, _2.localize)(\"WHITEBOARD_SUBTITLE_MESSAGE\"),\n              iconURL: _whiteboard.default,\n              title: (0, _2.localize)(\"SHARED_COLLABORATIVE_WHITEBOARD\"),\n              buttonText: (0, _2.localize)(\"OPEN_WHITEBOARD\"),\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        case _2.MessageTypeConstants.document:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                titleFont: (0, _2.fontHelper)(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: (0, _2.fontHelper)(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: (0, _2.fontHelper)(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatDocumentBubble, {\n              key: messageKey,\n              messageObject: messageObject,\n              iconURL: _collaborative.default,\n              title: (0, _2.localize)(\"SHARED_COLLABORATIVE_DOCUMENT\"),\n              subTitle: (0, _2.localize)(\"DOCUMENT_SUBTITLE_MESSAGE\"),\n              buttonText: (0, _2.localize)(\"OPEN_DOCUMENT\"),\n              theme: _theme,\n              style: customMessageStyle\n            });\n          }\n        default:\n          {\n            if (alignment === _2.MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                textColor: _theme.palette.primary[_theme.palette.mode],\n                textFont: (0, _2.fontHelper)(_theme.typography.subtitle1)\n              });\n            } else {\n              customMessageStyle = _objectSpread(_objectSpread({}, new _Shared.BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })), {}, {\n                textColor: _theme.palette.accent[_theme.palette.mode],\n                textFont: (0, _2.fontHelper)(_theme.typography.subtitle1)\n              });\n            }\n            return /*#__PURE__*/_react.default.createElement(_.CometChatPlaceholderBubble, {\n              key: messageKey,\n              style: customMessageStyle,\n              text: messageObject.type + \"message is not supported\"\n            });\n          }\n      }\n    }\n  };\n\n  /**\n   * Returns delete bubble view if a message is deleted\n   */\n  var getDeleteBubble = function getDeleteBubble() {\n    return /*#__PURE__*/_react.default.createElement(_.CometChatDeletedMessageBubble, {\n      text: (0, _2.localize)(\"MESSAGE_IS_DELETED\"),\n      style: (0, _style.deleteBubbleStyle)(_theme)\n    });\n  };\n\n  /**\n   *\n   * @returns Reactions on a message\n   */\n  var messageReactions = function messageReactions() {\n    var reactionsData = (0, _2.getExtensionsData)(messageObject, _2.ExtensionConstants.reactions);\n    if (reactionsData && Object.keys(reactionsData).length) {\n      return /*#__PURE__*/_react.default.createElement(_.CometChatMessageReactions, {\n        messageObject: messageObject,\n        loggedInUser: loggedInUser,\n        addReactionIconURL: _messageReactionsConfiguration.addReactionIconURL,\n        style: (0, _style.reactionsStyle)(_theme, alignment, messageObject),\n        updateReaction: updateReaction\n      });\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @returns translated text on using text translate\n   */\n  var getTranslatedMessage = function getTranslatedMessage() {\n    var _messageObject$metada;\n    if (messageObject !== null && messageObject !== void 0 && (_messageObject$metada = messageObject.metadata) !== null && _messageObject$metada !== void 0 && _messageObject$metada.translatedText) {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"message_translate__block\",\n        style: (0, _style.translatedTextBlockStyle)(alignment, _theme)\n      }, /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"message_translate__text\",\n        style: (0, _style.translateTextStyle)()\n      }, messageObject.metadata.translatedText), /*#__PURE__*/_react.default.createElement(\"p\", {\n        className: \"message_translate__label\",\n        style: (0, _style.translateLabelText)(alignment, _theme)\n      }, (0, _2.localize)(\"TRANSLATED_MESSAGE\")));\n    }\n  };\n\n  /**\n   * Displays a component when Mouse Hovers on a bubble\n   */\n  var showMessageOptions = function showMessageOptions() {\n    if (!isHovering) {\n      setIsHovering(true);\n    }\n  };\n\n  /**\n   * Hides the component when Mouse doesn't hover anymore on the bubble\n   */\n  var hideMessageOptions = function hideMessageOptions() {\n    if (isHovering) {\n      setIsHovering(false);\n    }\n  };\n\n  /**\n   *\n   * @returns name of the sender\n   */\n  var getSenderName = function getSenderName() {\n    var _messageObject$sender3;\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title && messageObject !== null && messageObject !== void 0 && (_messageObject$sender3 = messageObject.sender) !== null && _messageObject$sender3 !== void 0 && _messageObject$sender3.name ? /*#__PURE__*/_react.default.createElement(\"span\", {\n      style: (0, _style.messageSenderStyle)(style, _theme),\n      className: \"message_kit__sender\"\n    }, messageObject.sender.name) : null;\n  };\n\n  /**\n   *\n   * @returns time of message sent\n   */\n  var getMessageTime = function getMessageTime() {\n    var _dateConfiguration = dateConfiguration || new _DateConfiguration.DateConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp && messageObject !== null && messageObject !== void 0 && messageObject.sentAt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n      style: (0, _style.messageTimestampStyle)(style, _theme),\n      className: \"message_kit__time_bar\"\n    }, /*#__PURE__*/_react.default.createElement(_2.CometChatDate, {\n      timestamp: messageObject.sentAt || _dateConfiguration.timeStamp,\n      pattern: \"timeFormat\" || _dateConfiguration.pattern,\n      style: {\n        textFont: style.timestampFont || (0, _2.fontHelper)(_theme.typography.caption1),\n        textColor: style.timestampColor || _theme.palette.accent[_theme.palette.mode]\n      }\n    })) : null;\n  };\n  var getMessageReceipt = function getMessageReceipt() {\n    var _messageReceiptConfiguration = messageReceiptConfiguration || new _2.MessageReceiptConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(_2.CometChatMessageReceipt, {\n      messageObject: messageObject,\n      loggedInUser: loggedInUser,\n      messageDeliveredIcon: _messageReceiptConfiguration.messageDeliveredIcon,\n      messageErrorIcon: _messageReceiptConfiguration.messageErrorIcon,\n      messageSentIcon: _messageReceiptConfiguration.messageSentIcon,\n      messageWaitIcon: _messageReceiptConfiguration.messageWaitIcon,\n      messageReadIcon: _messageReceiptConfiguration.messageReadIcon\n    }) : null;\n  };\n  var getLeftView = function getLeftView() {\n    //if the message bubble is aligned to the left\n\n    if (alignment === _2.MessageBubbleAlignmentConstants.left) {\n      return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageLeftGutterStyle)(),\n        className: \"message_kit__gutter__left\"\n      }, getAvatar()) : null;\n\n      //if the message bubble is aligned to the right\n    } else {\n      var _messageObject$sender4;\n      var topBar = null;\n      var bottomBar = null;\n\n      //if loggedin user is the sender\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender4 = messageObject.sender) === null || _messageObject$sender4 === void 0 ? void 0 : _messageObject$sender4.uid)) {\n        //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n        if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.top) {\n          topBar = messageBubbleData.timestamp || messageBubbleData.title ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageSenderStyle)(style, _theme),\n            className: \"message_kit__username_bar\"\n          }, getMessageTime(), \"\\xA0\", getSenderName()) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageReceipt()) : null;\n        } else if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.bottom) {\n          topBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageSenderStyle)(style, _theme),\n            className: \"message_kit__username_bar\"\n          }, getSenderName()) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp || messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime(), \"\\xA0\", getMessageReceipt()) : null;\n        }\n      }\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageLeftGutterStyle)(),\n        className: \"message_kit__gutter__left\"\n      }, topBar, /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"data-id\": getId(),\n        className: \"message_kit__hover\",\n        onMouseEnter: showMessageOptions,\n        onMouseLeave: hideMessageOptions\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageBlockStyle)(alignment, style, messageObject, _theme),\n        className: \"messageBlockStyle\"\n      }, messageObject && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()))), bottomBar);\n    }\n  };\n  var getRightview = function getRightview() {\n    //if the message bubble is aligned to left\n    if (alignment === _2.MessageBubbleAlignmentConstants.left) {\n      var topBar = getSenderName();\n      var bottomBar = null;\n\n      //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n      if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.top) {\n        var _messageObject$sender5;\n        topBar = messageBubbleData.title || messageBubbleData.timestamp ? /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageNameTimestampStyle)(),\n          className: \"message_kit__username_bar\"\n        }, getSenderName(), \"\\xA0\", getMessageTime()) : null;\n\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender5 = messageObject.sender) === null || _messageObject$sender5 === void 0 ? void 0 : _messageObject$sender5.uid) && messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt) {\n          bottomBar = /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageReceipt());\n        }\n\n        //if timestamp is to be shown at the bottom of the message bubble i.e. similar to slack\n      } else if (timeAlignment.toLowerCase() === _2.MessageTimeAlignmentConstants.bottom) {\n        var _messageObject$sender6;\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender6 = messageObject.sender) === null || _messageObject$sender6 === void 0 ? void 0 : _messageObject$sender6.uid)) {\n          bottomBar = messageBubbleData.timestamp || messageBubbleData.readReceipt ? /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime(), \"\\xA0\", getMessageReceipt()) : null;\n        } else {\n          bottomBar = /*#__PURE__*/_react.default.createElement(\"div\", {\n            style: (0, _style.messageKitReceiptStyle)(),\n            className: \"message_kit__receipt_bar\"\n          }, getMessageTime());\n        }\n      }\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageRightGutterStyle)(),\n        className: \"message_kit__gutter__right\"\n      }, topBar, /*#__PURE__*/_react.default.createElement(\"div\", {\n        \"data-id\": getId(),\n        className: \"message_kit__hover\",\n        onMouseEnter: showMessageOptions,\n        onMouseLeave: hideMessageOptions\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        style: (0, _style.messageBlockStyle)(alignment, style, messageObject, _theme),\n        className: \"messageBlockStyle\"\n      }, messageObject !== null && messageObject !== void 0 && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()))), bottomBar);\n    } else {\n      var _messageObject$sender7;\n      //if loggedin user is the sender of the message\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender7 = messageObject.sender) === null || _messageObject$sender7 === void 0 ? void 0 : _messageObject$sender7.uid)) {\n        return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: (0, _style.messageLeftGutterStyle)(),\n          className: \"message_kit__gutter__right\"\n        }, getAvatar()) : null;\n      }\n    }\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: (0, _style.messageActionsStyle)(props, _theme),\n    className: \"message_kit__actions\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: (0, _style.messageGutterStyle)(),\n    className: \"c-message_kit__gutter\"\n  }, getLeftView(), getRightview()));\n};\nexports.CometChatMessageBubble = CometChatMessageBubble;\nCometChatMessageBubble.defaultProps = {\n  messageBubbleData: {\n    id: true,\n    thumbnail: true,\n    title: false,\n    timestamp: true,\n    readReceipt: true\n  },\n  timeAlignment: \"bottom\",\n  messageOptions: [],\n  messageObject: null,\n  alignment: \"standard\",\n  loggedInUser: null,\n  style: {\n    width: \"\",\n    height: \"\",\n    nameTextFont: \"\",\n    nameTextColor: \"\",\n    border: \"\",\n    background: \"\",\n    borderRadius: \"\",\n    timestampFont: \"\",\n    timestampColor: \"\"\n  }\n};\nCometChatMessageBubble.propTypes = {\n  messageBubbleData: _propTypes.default.object,\n  timeAlignment: _propTypes.default.string,\n  messageOptions: _propTypes.default.array,\n  messageObject: _propTypes.default.object,\n  alignment: _propTypes.default.string,\n  loggedInUser: _propTypes.default.object,\n  style: _propTypes.default.object,\n  avatarConfiguration: _propTypes.default.object,\n  messageReceiptConfiguration: _propTypes.default.object,\n  messageReactionsConfiguration: _propTypes.default.object,\n  dateConfiguration: _propTypes.default.object,\n  textBubbleConfiguration: _propTypes.default.object,\n  fileBubbleConfiguration: _propTypes.default.object,\n  imageBubbleConfiguration: _propTypes.default.object,\n  audioBubbleConfiguration: _propTypes.default.object,\n  videoBubbleConfiguration: _propTypes.default.object,\n  pollBubbleConfiguration: _propTypes.default.object,\n  stickerBubbleConfiguration: _propTypes.default.object,\n  deletedBubbleConfiguration: _propTypes.default.object,\n  collaborativeWhiteboardConfiguration: _propTypes.default.object,\n  collaborativeDocumentConfiguration: _propTypes.default.object\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}