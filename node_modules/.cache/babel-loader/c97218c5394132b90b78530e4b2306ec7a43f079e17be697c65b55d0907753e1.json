{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport { bytesToSize } from \"../../CometChatMessageHelper\";\nimport { MetadataConstants, getMetadataByKey } from \"../../..\";\nexport const Hooks = (props, setTitle, setSubTitle, setFileURL) => {\n  _s();\n  const getFile = React.useCallback(() => {\n    const fileMetadata = getMetadataByKey(props.messageObject, MetadataConstants.file);\n    if (fileMetadata instanceof Blob) {\n      return fileMetadata;\n    } else if (props.messageObject.data.hasOwnProperty(\"attachments\") && Array.isArray(props.messageObject.data.attachments) && props.messageObject.data.attachments.length) {\n      return {\n        ...props.messageObject.data.attachments[0]\n      };\n    }\n  }, [props.messageObject]);\n  React.useEffect(() => {\n    if (props.title && props.title.length) {\n      setTitle(props.title);\n    } else if (props.messageObject) {\n      let fileData = getFile();\n      if (fileData) {\n        setTitle(fileData.name);\n      }\n    }\n  }, [props.messageObject]);\n  React.useEffect(() => {\n    if (props.subTitle && props.subTitle.length) {\n      setSubTitle(props.subTitle);\n    } else if (props.messageObject) {\n      let fileData = getFile();\n      if (fileData) {\n        setSubTitle(bytesToSize(fileData.size));\n      }\n    }\n  }, [props.subTitle, props.messageObject, getFile, setSubTitle]);\n  React.useEffect(() => {\n    if (props.fileURL && props.fileURL.length) {\n      setFileURL(props.fileURL);\n    } else if (props.messageObject) {\n      const fileData = getFile();\n      if (fileData) {\n        setFileURL(fileData.url);\n      }\n    }\n  }, [props.fileURL, props.messageObject, getFile, setFileURL]);\n};\n_s(Hooks, \"3JxRaVGPFHfN0rzqX+Y5fPgT4Cw=\");\n_c = Hooks;\nvar _c;\n$RefreshReg$(_c, \"Hooks\");","map":{"version":3,"names":["React","bytesToSize","MetadataConstants","getMetadataByKey","Hooks","props","setTitle","setSubTitle","setFileURL","getFile","useCallback","fileMetadata","messageObject","file","Blob","data","hasOwnProperty","Array","isArray","attachments","length","useEffect","title","fileData","name","subTitle","size","fileURL","url"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Messages/Bubbles/CometChatFileBubble/hooks.js"],"sourcesContent":["import React from \"react\";\nimport { bytesToSize } from \"../../CometChatMessageHelper\";\nimport { MetadataConstants, getMetadataByKey } from \"../../..\";\n\nexport const Hooks = (props, setTitle, setSubTitle, setFileURL) => {\n  const getFile = React.useCallback(() => {\n    const fileMetadata = getMetadataByKey(\n      props.messageObject,\n      MetadataConstants.file\n    );\n\n    if (fileMetadata instanceof Blob) {\n      return fileMetadata;\n    } else if (\n      props.messageObject.data.hasOwnProperty(\"attachments\") &&\n      Array.isArray(props.messageObject.data.attachments) &&\n      props.messageObject.data.attachments.length\n    ) {\n      return { ...props.messageObject.data.attachments[0] };\n    }\n  }, [props.messageObject]);\n\n  React.useEffect(() => {\n    if (props.title && props.title.length) {\n      setTitle(props.title);\n    } else if (props.messageObject) {\n      let fileData = getFile();\n      if (fileData) {\n        setTitle(fileData.name);\n      }\n    }\n  }, [props.messageObject]);\n\n  React.useEffect(() => {\n    if (props.subTitle && props.subTitle.length) {\n      setSubTitle(props.subTitle);\n    } else if (props.messageObject) {\n      let fileData = getFile();\n      if (fileData) {\n        setSubTitle(bytesToSize(fileData.size));\n      }\n    }\n  }, [props.subTitle, props.messageObject, getFile, setSubTitle]);\n\n  React.useEffect(() => {\n    if (props.fileURL && props.fileURL.length) {\n      setFileURL(props.fileURL);\n    } else if (props.messageObject) {\n      const fileData = getFile();\n      if (fileData) {\n        setFileURL(fileData.url);\n      }\n    }\n  }, [props.fileURL, props.messageObject, getFile, setFileURL]);\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,8BAA8B;AAC1D,SAASC,iBAAiB,EAAEC,gBAAgB,QAAQ,UAAU;AAE9D,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,UAAU,KAAK;EAAA;EACjE,MAAMC,OAAO,GAAGT,KAAK,CAACU,WAAW,CAAC,MAAM;IACtC,MAAMC,YAAY,GAAGR,gBAAgB,CACnCE,KAAK,CAACO,aAAa,EACnBV,iBAAiB,CAACW,IAAI,CACvB;IAED,IAAIF,YAAY,YAAYG,IAAI,EAAE;MAChC,OAAOH,YAAY;IACrB,CAAC,MAAM,IACLN,KAAK,CAACO,aAAa,CAACG,IAAI,CAACC,cAAc,CAAC,aAAa,CAAC,IACtDC,KAAK,CAACC,OAAO,CAACb,KAAK,CAACO,aAAa,CAACG,IAAI,CAACI,WAAW,CAAC,IACnDd,KAAK,CAACO,aAAa,CAACG,IAAI,CAACI,WAAW,CAACC,MAAM,EAC3C;MACA,OAAO;QAAE,GAAGf,KAAK,CAACO,aAAa,CAACG,IAAI,CAACI,WAAW,CAAC,CAAC;MAAE,CAAC;IACvD;EACF,CAAC,EAAE,CAACd,KAAK,CAACO,aAAa,CAAC,CAAC;EAEzBZ,KAAK,CAACqB,SAAS,CAAC,MAAM;IACpB,IAAIhB,KAAK,CAACiB,KAAK,IAAIjB,KAAK,CAACiB,KAAK,CAACF,MAAM,EAAE;MACrCd,QAAQ,CAACD,KAAK,CAACiB,KAAK,CAAC;IACvB,CAAC,MAAM,IAAIjB,KAAK,CAACO,aAAa,EAAE;MAC9B,IAAIW,QAAQ,GAAGd,OAAO,EAAE;MACxB,IAAIc,QAAQ,EAAE;QACZjB,QAAQ,CAACiB,QAAQ,CAACC,IAAI,CAAC;MACzB;IACF;EACF,CAAC,EAAE,CAACnB,KAAK,CAACO,aAAa,CAAC,CAAC;EAEzBZ,KAAK,CAACqB,SAAS,CAAC,MAAM;IACpB,IAAIhB,KAAK,CAACoB,QAAQ,IAAIpB,KAAK,CAACoB,QAAQ,CAACL,MAAM,EAAE;MAC3Cb,WAAW,CAACF,KAAK,CAACoB,QAAQ,CAAC;IAC7B,CAAC,MAAM,IAAIpB,KAAK,CAACO,aAAa,EAAE;MAC9B,IAAIW,QAAQ,GAAGd,OAAO,EAAE;MACxB,IAAIc,QAAQ,EAAE;QACZhB,WAAW,CAACN,WAAW,CAACsB,QAAQ,CAACG,IAAI,CAAC,CAAC;MACzC;IACF;EACF,CAAC,EAAE,CAACrB,KAAK,CAACoB,QAAQ,EAAEpB,KAAK,CAACO,aAAa,EAAEH,OAAO,EAAEF,WAAW,CAAC,CAAC;EAE/DP,KAAK,CAACqB,SAAS,CAAC,MAAM;IACpB,IAAIhB,KAAK,CAACsB,OAAO,IAAItB,KAAK,CAACsB,OAAO,CAACP,MAAM,EAAE;MACzCZ,UAAU,CAACH,KAAK,CAACsB,OAAO,CAAC;IAC3B,CAAC,MAAM,IAAItB,KAAK,CAACO,aAAa,EAAE;MAC9B,MAAMW,QAAQ,GAAGd,OAAO,EAAE;MAC1B,IAAIc,QAAQ,EAAE;QACZf,UAAU,CAACe,QAAQ,CAACK,GAAG,CAAC;MAC1B;IACF;EACF,CAAC,EAAE,CAACvB,KAAK,CAACsB,OAAO,EAAEtB,KAAK,CAACO,aAAa,EAAEH,OAAO,EAAED,UAAU,CAAC,CAAC;AAC/D,CAAC;AAAC,GAlDWJ,KAAK;AAAA,KAALA,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}