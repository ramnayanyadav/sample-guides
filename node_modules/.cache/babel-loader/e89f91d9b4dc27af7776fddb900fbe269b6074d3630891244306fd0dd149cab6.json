{"ast":null,"code":"var _jsxFileName = \"/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Messages/Bubbles/CometChatMessageBubble/index.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChatDeletedMessageBubble, CometChatTextBubble, CometChatFileBubble, CometChatImageBubble, CometChatAudioBubble, CometChatVideoBubble, CometChatPollBubble, CometChatStickerBubble, CometChatDocumentBubble, CometChatWhiteboardBubble, CometChatPlaceholderBubble, CometChatMessageReactions, MessageInputData } from \"../..\";\nimport { AvatarConfiguration, MessageCategoryConstants, MessageTypeConstants, MessageBubbleAlignmentConstants, MessageTimeAlignmentConstants, MessageReceiptConfiguration, fontHelper, CometChatAvatar, CometChatMessageReceipt, CometChatDate, localize, CometChatMenuList, CometChatTheme, getExtensionsData, ExtensionConstants } from \"../../..\";\nimport { messageActionsStyle, messageGutterStyle, messageLeftGutterStyle, messageRightGutterStyle, messageAvatarStyle, messageSenderStyle, messageKitReceiptStyle, messageTimestampStyle, messageNameTimestampStyle, messageBlockStyle, messageOptionStyle, deleteBubbleStyle, reactionsStyle, translatedTextBlockStyle, translateTextStyle, translateLabelText } from \"./style\";\nimport { BaseStyles, AvatarStyles } from \"../../../Shared\";\nimport { MessageBubbleStyles } from \"..\";\nimport downloadIcon from \"./resources/download-icon.svg\";\nimport whiteBoard from \"./resources/whiteboard.svg\";\nimport documentIcon from \"./resources/collaborative.svg\";\nimport closeChat from \"./resources/close-chat.svg\";\nimport unsafeContent from \"./resources/unsafe-content.svg\";\nimport { MessageReactionsConfiguration } from \"../../CometChatMessageReactions/MessageReactionsConfiguration\";\nimport { DateConfiguration } from \"../../../Shared/PrimaryComponents/CometChatConfiguration/DateConfiguration\";\nimport { TextBubbleConfiguration } from \"../CometChatTextBubble/TextBubbleConfiguration\";\nimport { FileBubbleConfiguration } from \"../CometChatFileBubble/FileBubbleConfiguration\";\nimport { ImageBubbleConfiguration } from \"../CometChatImageBubble/ImageBubbleConfiguration\";\nimport { AudioBubbleConfiguration } from \"../CometChatAudioBubble/AudioBubbleConfiguration\";\nimport { VideoBubbleConfiguration } from \"../CometChatVideoBubble/VideoBubbleConfiguration\";\nimport { PollBubbleConfiguration } from \"../CometChatPollBubble/PollBubbleConfiguration\";\nimport { StickerBubbleConfiguration } from \"../CometChatStickerBubble/StickerBubbleConfiguration\";\nimport { DeletedBubbleConfiguration } from \"../CometChatDeletedMessageBubble/DeletedBubbleConfiguration\";\nimport { CollaborativeDocumentConfiguration } from \"../CometChatDocumentBubble/CollaborativeDocumentConfiguration\";\n\n/**\n *CometChatMessageBubble handles the display and functionality for all types of messages in a message list.\n *It renders different bubbles according to the message type provided to it by the parent.\n *\n * @version 1.0.0\n * @author CometChatTeam\n * @copyright Â© 2022 CometChat Inc.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CometChatMessageBubble = props => {\n  _s();\n  const {\n    messageKey,\n    customView,\n    messageBubbleData,\n    timeAlignment,\n    messageOptions,\n    messageObject,\n    alignment,\n    updateReaction,\n    loggedInUser,\n    style,\n    theme,\n    avatarConfiguration,\n    messageReceiptConfiguration,\n    messageReactionsConfiguration,\n    dateConfiguration\n  } = props;\n  const [isHovering, setIsHovering] = React.useState(null);\n  const _theme = new CometChatTheme(theme || {});\n  const _avatarConfiguration = avatarConfiguration || new AvatarConfiguration({});\n  const _messageReactionsConfiguration = messageReactionsConfiguration || new MessageReactionsConfiguration({});\n\n  /**\n   *\n   * @returns ID for each Bubble rendered\n   */\n  const getId = () => {\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.id && messageObject.id ? messageObject.id : null;\n  };\n\n  /**\n   *\n   * @returns Avatar, if the user enabled thumbnail of messageBubbleData\n   */\n  const getAvatar = () => {\n    var _avatarConfiguration$, _avatarConfiguration$2, _avatarConfiguration$3, _avatarConfiguration$4, _avatarConfiguration$5, _theme$palette, _theme$palette2, _avatarConfiguration$6, _theme$typography, _theme$palette3, _theme$palette4, _avatarConfiguration$7, _avatarConfiguration$8, _avatarConfiguration$9, _theme$palette5, _theme$palette6;\n    const outerViewWidth = _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : _avatarConfiguration.outerViewWidth;\n    const outerView = `${outerViewWidth} solid ${_theme.palette.primary[_theme.palette.mode]}`;\n    let avatarStyle = new AvatarStyles({\n      width: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$ = _avatarConfiguration.style) === null || _avatarConfiguration$ === void 0 ? void 0 : _avatarConfiguration$.width,\n      height: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$2 = _avatarConfiguration.style) === null || _avatarConfiguration$2 === void 0 ? void 0 : _avatarConfiguration$2.height,\n      outerViewSpacing: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$3 = _avatarConfiguration.style) === null || _avatarConfiguration$3 === void 0 ? void 0 : _avatarConfiguration$3.outerViewSpacing,\n      outerView: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$4 = _avatarConfiguration.style) === null || _avatarConfiguration$4 === void 0 ? void 0 : _avatarConfiguration$4.outerViewSpacing) || outerView,\n      textColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$5 = _avatarConfiguration.style) === null || _avatarConfiguration$5 === void 0 ? void 0 : _avatarConfiguration$5.textColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette = _theme.palette) === null || _theme$palette === void 0 ? void 0 : _theme$palette.accent900[_theme === null || _theme === void 0 ? void 0 : (_theme$palette2 = _theme.palette) === null || _theme$palette2 === void 0 ? void 0 : _theme$palette2.mode]),\n      textFont: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$6 = _avatarConfiguration.style) === null || _avatarConfiguration$6 === void 0 ? void 0 : _avatarConfiguration$6.textFont) || fontHelper(_theme === null || _theme === void 0 ? void 0 : (_theme$typography = _theme.typography) === null || _theme$typography === void 0 ? void 0 : _theme$typography.name),\n      border: `1px solid ${_theme === null || _theme === void 0 ? void 0 : (_theme$palette3 = _theme.palette) === null || _theme$palette3 === void 0 ? void 0 : _theme$palette3.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette4 = _theme.palette) === null || _theme$palette4 === void 0 ? void 0 : _theme$palette4.mode]}`,\n      borderRadius: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$7 = _avatarConfiguration.style) === null || _avatarConfiguration$7 === void 0 ? void 0 : _avatarConfiguration$7.borderRadius,\n      backgroundSize: _avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$8 = _avatarConfiguration.style) === null || _avatarConfiguration$8 === void 0 ? void 0 : _avatarConfiguration$8.backgroundSize,\n      backgroundColor: (_avatarConfiguration === null || _avatarConfiguration === void 0 ? void 0 : (_avatarConfiguration$9 = _avatarConfiguration.style) === null || _avatarConfiguration$9 === void 0 ? void 0 : _avatarConfiguration$9.backgroundColor) || (_theme === null || _theme === void 0 ? void 0 : (_theme$palette5 = _theme.palette) === null || _theme$palette5 === void 0 ? void 0 : _theme$palette5.accent600[_theme === null || _theme === void 0 ? void 0 : (_theme$palette6 = _theme.palette) === null || _theme$palette6 === void 0 ? void 0 : _theme$palette6.mode])\n    });\n\n    // if messageObject has thumbnail key\n    if (messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail) {\n      var _messageObject$sender, _messageObject$sender2;\n      if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender = messageObject.sender) !== null && _messageObject$sender !== void 0 && _messageObject$sender.avatar) {\n        // If Icon provided\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: messageAvatarStyle(),\n          className: \"message_kit__avatar\",\n          children: /*#__PURE__*/_jsxDEV(CometChatAvatar, {\n            ...avatarStyle,\n            image: messageObject.sender.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this);\n      } else if (messageObject !== null && messageObject !== void 0 && (_messageObject$sender2 = messageObject.sender) !== null && _messageObject$sender2 !== void 0 && _messageObject$sender2.name) {\n        // show initials for name\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: messageAvatarStyle(),\n          className: \"message_kit__avatar\",\n          children: /*#__PURE__*/_jsxDEV(CometChatAvatar, {\n            ...avatarStyle,\n            name: messageObject.sender.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this);\n      }\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @param {*} customView\n   * @returns custom Bubble set by The user\n   */\n  const getCustomView = customView => {\n    //return customView;\n    return /*#__PURE__*/React.createElement(customView, {\n      key: messageObject.key,\n      messageBubbleData: messageBubbleData,\n      alignment: alignment,\n      timeAlignment: timeAlignment,\n      messageObject: messageObject,\n      messageOptions: messageOptions,\n      loggedInUser: loggedInUser,\n      ...style\n    });\n  };\n\n  /**\n   * Displays message options of a bubble when mouse is hovered on it\n   */\n  const getMessageOptions = () => {\n    return isHovering && messageObject && !messageObject.deletedAt ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CometChatMenuList, {\n        isOpen: true,\n        data: messageObject,\n        list: messageOptions,\n        style: messageOptionStyle(alignment, loggedInUser, messageObject, _theme)\n      }, messageObject.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this) : null;\n  };\n\n  /**\n   *\n   * @returns Message text in a bubble of type based on the message itself\n   */\n  const getMessage = () => {\n    /**\n     * Returns a bubble based on messageObject type\n     */\n\n    if (customView) {\n      return getCustomView(customView);\n    } else if (messageObject.category === MessageCategoryConstants.message) {\n      let messageStyle = {};\n\n      /** emoji font according to number of emoji to be display */\n      const emojiFont = str => {\n        let strLength = str === null || str === void 0 ? void 0 : str.length;\n        let fontSize = null;\n        if (strLength) {\n          let emojiRE = str === null || str === void 0 ? void 0 : str.match(/[\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}]/gu);\n          let numbers = emojiRE === null || emojiRE === void 0 ? void 0 : emojiRE.length;\n          if (numbers === 1 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"32px\";\n          } else if (numbers === 2 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"24px\";\n          } else if (numbers === 3 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"16px\";\n          }\n        }\n        return fontSize;\n      };\n      switch (messageObject.type) {\n        case MessageTypeConstants.text:\n          {\n            let textColor;\n            if (alignment === MessageBubbleAlignmentConstants.right) {\n              textColor = {\n                textColor: _theme.palette.accent900[\"light\"]\n              };\n            } else {\n              textColor = {\n                textColor: _theme.palette.accent900[\"dark\"]\n              };\n            }\n            messageStyle = {\n              ...new BaseStyles({\n                width: \"\",\n                height: \"\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              }),\n              textFont: emojiFont(messageObject.text) || fontHelper(_theme.typography.subtitle1),\n              ...textColor,\n              linkPreviewTitleFont: fontHelper(_theme.typography.title2),\n              linkPreviewTitleColor: _theme.palette.accent[_theme.palette.mode],\n              linkPreviewSubtitleFont: fontHelper(_theme.typography.subtitle2),\n              linkPreviewSubtitleColor: _theme.palette.accent600[_theme.palette.mode],\n              linkPreviewBackgroundColor: _theme.palette.background[_theme.palette.mode]\n            };\n            return /*#__PURE__*/_jsxDEV(CometChatTextBubble, {\n              messageObject: messageObject,\n              overlayImageURL: unsafeContent,\n              text: \"\",\n              linkPreviewTitle: \"\",\n              linkPreviewSubtitle: \"\",\n              theme: _theme,\n              style: messageStyle\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.image:\n          {\n            messageStyle = {\n              ...new BaseStyles({\n                width: \"100%\",\n                height: \"168px\",\n                background: \"none\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })\n            };\n            return /*#__PURE__*/_jsxDEV(CometChatImageBubble, {\n              messageObject: messageObject,\n              style: messageStyle\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.video:\n          {\n            messageStyle = {\n              ...new BaseStyles({\n                width: \"250px\",\n                height: \"200px\",\n                background: \"none\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              })\n            };\n            return /*#__PURE__*/_jsxDEV(CometChatVideoBubble, {\n              messageObject: messageObject,\n              style: messageStyle\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.audio:\n          {\n            messageStyle = {\n              ...new BaseStyles({\n                width: \"250px\",\n                height: \"auto\",\n                background: \"none\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              }),\n              iconTint: _theme.palette.primary[_theme.palette.mode]\n            };\n            return /*#__PURE__*/_jsxDEV(CometChatAudioBubble, {\n              messageObject: messageObject,\n              style: messageStyle\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.file:\n          {\n            messageStyle = {\n              ...new BaseStyles({\n                width: \"190px\",\n                height: \"56px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\"\n              }),\n              titleFont: fontHelper(_theme.typography.title2),\n              subTitleFont: fontHelper(_theme.typography.subtitle2),\n              iconTint: _theme.palette.primary[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode]\n            };\n            return /*#__PURE__*/_jsxDEV(CometChatFileBubble, {\n              messageObject: messageObject,\n              iconURL: downloadIcon,\n              style: messageStyle,\n              theme: _theme\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 13\n            }, this);\n          }\n        default:\n      }\n    } else if (props.messageObject.category === MessageCategoryConstants.custom) {\n      let customMessageStyle = {};\n      switch (messageObject.type) {\n        case MessageTypeConstants.poll:\n          {\n            if (alignment === MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"100%\",\n                  height: \"100%\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                votePercentTextFont: fontHelper(_theme.typography.subtitle1),\n                //not in skecth\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                //not in sketch\n                pollQuestionTextFont: fontHelper(_theme.typography.subtitle1),\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionTextFont: fontHelper(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                totalVoteCountTextFont: fontHelper(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              };\n            } else {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"100%\",\n                  height: \"100%\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                background: \"transparent\",\n                votePercentTextFont: fontHelper(_theme.typography.subtitle1),\n                votePercentTextColor: _theme.palette.background[_theme.palette.mode],\n                pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollQuestionTextFont: fontHelper(_theme.typography.subtitle1),\n                pollOptionTextFont: fontHelper(_theme.typography.subtitle1),\n                pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n                pollOptionsBackground: _theme.palette.background[_theme.palette.mode],\n                totalVoteCountTextFont: fontHelper(_theme.typography.subtitle2),\n                totalVoteCountTextColor: _theme.palette.accent600[_theme.palette.mode],\n                optionIconTint: style.optionsIconTint || _theme.palette.accent500[_theme.palette.mode],\n                pollOptionBorder: \"none\",\n                selectedPollOptionBackground: style.selectedPollOptionBackground || _theme.palette.primary[_theme.palette.mode]\n              };\n            }\n            return /*#__PURE__*/_jsxDEV(CometChatPollBubble, {\n              messageObject: messageObject,\n              pollQuestion: \"\",\n              options: null,\n              totalVoteCount: null,\n              optionIconURL: null,\n              loggedInUser: loggedInUser || loggedInUser,\n              theme: _theme,\n              style: customMessageStyle\n            }, messageObject.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.sticker:\n          {\n            if (alignment === MessageBubbleAlignmentConstants.right || alignment === MessageBubbleAlignmentConstants.left) {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"150px\",\n                  height: \"auto\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                })\n              };\n            }\n            return /*#__PURE__*/_jsxDEV(CometChatStickerBubble, {\n              messageObject: messageObject,\n              style: customMessageStyle\n            }, messageKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.whiteboard:\n          {\n            if (alignment === MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"228px\",\n                  height: \"134px\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                titleFont: fontHelper(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: fontHelper(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: fontHelper(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              };\n            } else {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"228px\",\n                  height: \"134px\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                titleFont: fontHelper(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: fontHelper(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: fontHelper(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              };\n            }\n            return /*#__PURE__*/_jsxDEV(CometChatWhiteboardBubble, {\n              whiteboardURL: \"\",\n              messageObject: messageObject,\n              subTitle: localize(\"WHITEBOARD_SUBTITLE_MESSAGE\"),\n              iconURL: whiteBoard,\n              title: localize(\"SHARED_COLLABORATIVE_WHITEBOARD\"),\n              buttonText: localize(\"OPEN_WHITEBOARD\"),\n              theme: _theme,\n              style: customMessageStyle\n            }, messageKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 13\n            }, this);\n          }\n        case MessageTypeConstants.document:\n          {\n            if (alignment === MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"228px\",\n                  height: \"134px\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                titleFont: fontHelper(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: fontHelper(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: fontHelper(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              };\n            } else {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"228px\",\n                  height: \"134px\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                titleFont: fontHelper(_theme.typography.title2),\n                iconTint: _theme.palette.accent700[_theme.palette.mode],\n                titleColor: _theme.palette.accent[_theme.palette.mode],\n                subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n                subTitleFont: fontHelper(_theme.typography.subtitle2),\n                buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n                buttonTextFont: fontHelper(_theme.typography.title2),\n                buttonBackground: \"transparent\"\n              };\n            }\n            return /*#__PURE__*/_jsxDEV(CometChatDocumentBubble, {\n              messageObject: messageObject,\n              iconURL: documentIcon,\n              title: localize(\"SHARED_COLLABORATIVE_DOCUMENT\"),\n              subTitle: localize(\"DOCUMENT_SUBTITLE_MESSAGE\"),\n              buttonText: localize(\"OPEN_DOCUMENT\"),\n              theme: _theme,\n              style: customMessageStyle\n            }, messageKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 13\n            }, this);\n          }\n        default:\n          {\n            if (alignment === MessageBubbleAlignmentConstants.right) {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"auto\",\n                  height: \"auto\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                textColor: _theme.palette.primary[_theme.palette.mode],\n                textFont: fontHelper(_theme.typography.subtitle1)\n              };\n            } else {\n              customMessageStyle = {\n                ...new BaseStyles({\n                  width: \"auto\",\n                  height: \"auto\",\n                  background: \"transparent\",\n                  border: \"none\",\n                  borderRadius: \"12px\",\n                  activeBackground: \"\"\n                }),\n                textColor: _theme.palette.accent[_theme.palette.mode],\n                textFont: fontHelper(_theme.typography.subtitle1)\n              };\n            }\n            return /*#__PURE__*/_jsxDEV(CometChatPlaceholderBubble, {\n              style: customMessageStyle,\n              text: messageObject.type + \"message is not supported\"\n            }, messageKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 13\n            }, this);\n          }\n      }\n    }\n  };\n\n  /**\n   * Returns delete bubble view if a message is deleted\n   */\n  const getDeleteBubble = () => {\n    return /*#__PURE__*/_jsxDEV(CometChatDeletedMessageBubble, {\n      text: localize(\"MESSAGE_IS_DELETED\"),\n      style: deleteBubbleStyle(_theme)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 7\n    }, this);\n  };\n\n  /**\n   *\n   * @returns Reactions on a message\n   */\n  const messageReactions = () => {\n    let reactionsData = getExtensionsData(messageObject, ExtensionConstants.reactions);\n    if (reactionsData && Object.keys(reactionsData).length) {\n      return /*#__PURE__*/_jsxDEV(CometChatMessageReactions, {\n        messageObject: messageObject,\n        loggedInUser: loggedInUser,\n        addReactionIconURL: _messageReactionsConfiguration.addReactionIconURL,\n        style: reactionsStyle(_theme, alignment, messageObject),\n        updateReaction: updateReaction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n\n  /**\n   *\n   * @returns translated text on using text translate\n   */\n  const getTranslatedMessage = () => {\n    var _messageObject$metada;\n    if (messageObject !== null && messageObject !== void 0 && (_messageObject$metada = messageObject.metadata) !== null && _messageObject$metada !== void 0 && _messageObject$metada.translatedText) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message_translate__block\",\n        style: translatedTextBlockStyle(alignment, _theme),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message_translate__text\",\n          style: translateTextStyle(),\n          children: messageObject.metadata.translatedText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message_translate__label\",\n          style: translateLabelText(alignment, _theme),\n          children: localize(\"TRANSLATED_MESSAGE\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  /**\n   * Displays a component when Mouse Hovers on a bubble\n   */\n  const showMessageOptions = () => {\n    if (!isHovering) {\n      setIsHovering(true);\n    }\n  };\n\n  /**\n   * Hides the component when Mouse doesn't hover anymore on the bubble\n   */\n  const hideMessageOptions = () => {\n    if (isHovering) {\n      setIsHovering(false);\n    }\n  };\n\n  /**\n   *\n   * @returns name of the sender\n   */\n  const getSenderName = () => {\n    var _messageObject$sender3;\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title && messageObject !== null && messageObject !== void 0 && (_messageObject$sender3 = messageObject.sender) !== null && _messageObject$sender3 !== void 0 && _messageObject$sender3.name ? /*#__PURE__*/_jsxDEV(\"span\", {\n      style: messageSenderStyle(style, _theme),\n      className: \"message_kit__sender\",\n      children: messageObject.sender.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this) : null;\n  };\n\n  /**\n   *\n   * @returns time of message sent\n   */\n  const getMessageTime = () => {\n    const _dateConfiguration = dateConfiguration || new DateConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp && messageObject !== null && messageObject !== void 0 && messageObject.sentAt ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: messageTimestampStyle(style, _theme),\n      className: \"message_kit__time_bar\",\n      children: /*#__PURE__*/_jsxDEV(CometChatDate, {\n        timestamp: messageObject.sentAt || _dateConfiguration.timeStamp,\n        pattern: \"timeFormat\" || _dateConfiguration.pattern,\n        style: {\n          textFont: style.timestampFont || fontHelper(_theme.typography.caption1),\n          textColor: style.timestampColor || _theme.palette.accent[_theme.palette.mode]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 7\n    }, this) : null;\n  };\n  const getMessageReceipt = () => {\n    const _messageReceiptConfiguration = messageReceiptConfiguration || new MessageReceiptConfiguration({});\n    return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_jsxDEV(CometChatMessageReceipt, {\n      messageObject: messageObject,\n      loggedInUser: loggedInUser,\n      messageDeliveredIcon: _messageReceiptConfiguration.messageDeliveredIcon,\n      messageErrorIcon: _messageReceiptConfiguration.messageErrorIcon,\n      messageSentIcon: _messageReceiptConfiguration.messageSentIcon,\n      messageWaitIcon: _messageReceiptConfiguration.messageWaitIcon,\n      messageReadIcon: _messageReceiptConfiguration.messageReadIcon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 7\n    }, this) : null;\n  };\n  const getLeftView = () => {\n    //if the message bubble is aligned to the left\n\n    if (alignment === MessageBubbleAlignmentConstants.left) {\n      return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: messageLeftGutterStyle(),\n        className: \"message_kit__gutter__left\",\n        children: getAvatar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 9\n      }, this) : null;\n\n      //if the message bubble is aligned to the right\n    } else {\n      var _messageObject$sender4;\n      let topBar = null;\n      let bottomBar = null;\n\n      //if loggedin user is the sender\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender4 = messageObject.sender) === null || _messageObject$sender4 === void 0 ? void 0 : _messageObject$sender4.uid)) {\n        //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n        if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.top) {\n          topBar = messageBubbleData.timestamp || messageBubbleData.title ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageSenderStyle(style, _theme),\n            className: \"message_kit__username_bar\",\n            children: [getMessageTime(), \"\\xA0\", getSenderName()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageKitReceiptStyle(),\n            className: \"message_kit__receipt_bar\",\n            children: getMessageReceipt()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this) : null;\n        } else if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.bottom) {\n          topBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.title ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageSenderStyle(style, _theme),\n            className: \"message_kit__username_bar\",\n            children: getSenderName()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 13\n          }, this) : null;\n          bottomBar = messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.timestamp || messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageKitReceiptStyle(),\n            className: \"message_kit__receipt_bar\",\n            children: [getMessageTime(), \"\\xA0\", getMessageReceipt()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 15\n          }, this) : null;\n        }\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: messageLeftGutterStyle(),\n        className: \"message_kit__gutter__left\",\n        children: [topBar, /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-id\": getId(),\n          className: \"message_kit__hover\",\n          onMouseEnter: showMessageOptions,\n          onMouseLeave: hideMessageOptions,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageBlockStyle(alignment, style, messageObject, _theme),\n            className: \"messageBlockStyle\",\n            children: messageObject && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this), bottomBar]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const getRightview = () => {\n    //if the message bubble is aligned to left\n    if (alignment === MessageBubbleAlignmentConstants.left) {\n      let topBar = getSenderName();\n      let bottomBar = null;\n\n      //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n      if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.top) {\n        var _messageObject$sender5;\n        topBar = messageBubbleData.title || messageBubbleData.timestamp ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: messageNameTimestampStyle(),\n          className: \"message_kit__username_bar\",\n          children: [getSenderName(), \"\\xA0\", getMessageTime()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 13\n        }, this) : null;\n\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender5 = messageObject.sender) === null || _messageObject$sender5 === void 0 ? void 0 : _messageObject$sender5.uid) && messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.readReceipt) {\n          bottomBar = /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageKitReceiptStyle(),\n            className: \"message_kit__receipt_bar\",\n            children: getMessageReceipt()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 13\n          }, this);\n        }\n\n        //if timestamp is to be shown at the bottom of the message bubble i.e. similar to slack\n      } else if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.bottom) {\n        var _messageObject$sender6;\n        //if loggedin user is the sender of the message\n        if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender6 = messageObject.sender) === null || _messageObject$sender6 === void 0 ? void 0 : _messageObject$sender6.uid)) {\n          bottomBar = messageBubbleData.timestamp || messageBubbleData.readReceipt ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageKitReceiptStyle(),\n            className: \"message_kit__receipt_bar\",\n            children: [getMessageTime(), \"\\xA0\", getMessageReceipt()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 15\n          }, this) : null;\n        } else {\n          bottomBar = /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageKitReceiptStyle(),\n            className: \"message_kit__receipt_bar\",\n            children: getMessageTime()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 13\n          }, this);\n        }\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: messageRightGutterStyle(),\n        className: \"message_kit__gutter__right\",\n        children: [topBar, /*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-id\": getId(),\n          className: \"message_kit__hover\",\n          onMouseEnter: showMessageOptions,\n          onMouseLeave: hideMessageOptions,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: messageBlockStyle(alignment, style, messageObject, _theme),\n            className: \"messageBlockStyle\",\n            children: messageObject !== null && messageObject !== void 0 && messageObject.deletedAt ? getDeleteBubble() : /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [getMessageOptions(), getMessage(), getTranslatedMessage(), messageReactions()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 11\n        }, this), bottomBar]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 9\n      }, this);\n    } else {\n      var _messageObject$sender7;\n      //if loggedin user is the sender of the message\n      if ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.uid) === (messageObject === null || messageObject === void 0 ? void 0 : (_messageObject$sender7 = messageObject.sender) === null || _messageObject$sender7 === void 0 ? void 0 : _messageObject$sender7.uid)) {\n        return messageBubbleData !== null && messageBubbleData !== void 0 && messageBubbleData.thumbnail ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: messageLeftGutterStyle(),\n          className: \"message_kit__gutter__right\",\n          children: getAvatar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 11\n        }, this) : null;\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: messageActionsStyle(props, _theme),\n    className: \"message_kit__actions\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: messageGutterStyle(),\n      className: \"c-message_kit__gutter\",\n      children: [getLeftView(), getRightview()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 984,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 980,\n    columnNumber: 5\n  }, this);\n};\n_s(CometChatMessageBubble, \"qlH7grMWPUqQkGRMuwWeFtTvqZM=\");\n_c = CometChatMessageBubble;\nCometChatMessageBubble.defaultProps = {\n  messageBubbleData: {\n    id: true,\n    thumbnail: true,\n    title: false,\n    timestamp: true,\n    readReceipt: true\n  },\n  timeAlignment: \"bottom\",\n  messageOptions: [],\n  messageObject: null,\n  alignment: \"standard\",\n  loggedInUser: null,\n  style: {\n    width: \"\",\n    height: \"\",\n    nameTextFont: \"\",\n    nameTextColor: \"\",\n    border: \"\",\n    background: \"\",\n    borderRadius: \"\",\n    timestampFont: \"\",\n    timestampColor: \"\"\n  }\n};\nCometChatMessageBubble.propTypes = {\n  messageBubbleData: PropTypes.object,\n  timeAlignment: PropTypes.string,\n  messageOptions: PropTypes.array,\n  messageObject: PropTypes.object,\n  alignment: PropTypes.string,\n  loggedInUser: PropTypes.object,\n  style: PropTypes.object,\n  avatarConfiguration: PropTypes.object,\n  messageReceiptConfiguration: PropTypes.object,\n  messageReactionsConfiguration: PropTypes.object,\n  dateConfiguration: PropTypes.object,\n  textBubbleConfiguration: PropTypes.object,\n  fileBubbleConfiguration: PropTypes.object,\n  imageBubbleConfiguration: PropTypes.object,\n  audioBubbleConfiguration: PropTypes.object,\n  videoBubbleConfiguration: PropTypes.object,\n  pollBubbleConfiguration: PropTypes.object,\n  stickerBubbleConfiguration: PropTypes.object,\n  deletedBubbleConfiguration: PropTypes.object,\n  collaborativeWhiteboardConfiguration: PropTypes.object,\n  collaborativeDocumentConfiguration: PropTypes.object\n};\nexport { CometChatMessageBubble };\nvar _c;\n$RefreshReg$(_c, \"CometChatMessageBubble\");","map":{"version":3,"names":["React","PropTypes","CometChatDeletedMessageBubble","CometChatTextBubble","CometChatFileBubble","CometChatImageBubble","CometChatAudioBubble","CometChatVideoBubble","CometChatPollBubble","CometChatStickerBubble","CometChatDocumentBubble","CometChatWhiteboardBubble","CometChatPlaceholderBubble","CometChatMessageReactions","MessageInputData","AvatarConfiguration","MessageCategoryConstants","MessageTypeConstants","MessageBubbleAlignmentConstants","MessageTimeAlignmentConstants","MessageReceiptConfiguration","fontHelper","CometChatAvatar","CometChatMessageReceipt","CometChatDate","localize","CometChatMenuList","CometChatTheme","getExtensionsData","ExtensionConstants","messageActionsStyle","messageGutterStyle","messageLeftGutterStyle","messageRightGutterStyle","messageAvatarStyle","messageSenderStyle","messageKitReceiptStyle","messageTimestampStyle","messageNameTimestampStyle","messageBlockStyle","messageOptionStyle","deleteBubbleStyle","reactionsStyle","translatedTextBlockStyle","translateTextStyle","translateLabelText","BaseStyles","AvatarStyles","MessageBubbleStyles","downloadIcon","whiteBoard","documentIcon","closeChat","unsafeContent","MessageReactionsConfiguration","DateConfiguration","TextBubbleConfiguration","FileBubbleConfiguration","ImageBubbleConfiguration","AudioBubbleConfiguration","VideoBubbleConfiguration","PollBubbleConfiguration","StickerBubbleConfiguration","DeletedBubbleConfiguration","CollaborativeDocumentConfiguration","CometChatMessageBubble","props","messageKey","customView","messageBubbleData","timeAlignment","messageOptions","messageObject","alignment","updateReaction","loggedInUser","style","theme","avatarConfiguration","messageReceiptConfiguration","messageReactionsConfiguration","dateConfiguration","isHovering","setIsHovering","useState","_theme","_avatarConfiguration","_messageReactionsConfiguration","getId","id","getAvatar","outerViewWidth","outerView","palette","primary","mode","avatarStyle","width","height","outerViewSpacing","textColor","accent900","textFont","typography","name","border","accent600","borderRadius","backgroundSize","backgroundColor","thumbnail","sender","avatar","getCustomView","createElement","key","getMessageOptions","deletedAt","getMessage","category","message","messageStyle","emojiFont","str","strLength","length","fontSize","emojiRE","match","numbers","parseInt","type","text","right","background","activeBackground","subtitle1","linkPreviewTitleFont","title2","linkPreviewTitleColor","accent","linkPreviewSubtitleFont","subtitle2","linkPreviewSubtitleColor","linkPreviewBackgroundColor","image","video","audio","iconTint","file","titleFont","subTitleFont","titleColor","subTitleColor","custom","customMessageStyle","poll","votePercentTextFont","votePercentTextColor","pollQuestionTextFont","pollQuestionTextColor","pollOptionTextFont","pollOptionTextColor","pollOptionsBackground","optionIconTint","optionsIconTint","accent500","totalVoteCountTextFont","totalVoteCountTextColor","selectedPollOptionBackground","pollOptionBorder","sticker","left","whiteboard","accent700","buttonTextColor","buttonTextFont","buttonBackground","document","getDeleteBubble","messageReactions","reactionsData","reactions","Object","keys","addReactionIconURL","getTranslatedMessage","metadata","translatedText","showMessageOptions","hideMessageOptions","getSenderName","title","getMessageTime","_dateConfiguration","timestamp","sentAt","timeStamp","pattern","timestampFont","caption1","timestampColor","getMessageReceipt","_messageReceiptConfiguration","readReceipt","messageDeliveredIcon","messageErrorIcon","messageSentIcon","messageWaitIcon","messageReadIcon","getLeftView","topBar","bottomBar","uid","toLowerCase","top","bottom","getRightview","defaultProps","nameTextFont","nameTextColor","propTypes","object","string","array","textBubbleConfiguration","fileBubbleConfiguration","imageBubbleConfiguration","audioBubbleConfiguration","videoBubbleConfiguration","pollBubbleConfiguration","stickerBubbleConfiguration","deletedBubbleConfiguration","collaborativeWhiteboardConfiguration","collaborativeDocumentConfiguration"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Messages/Bubbles/CometChatMessageBubble/index.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  CometChatDeletedMessageBubble,\n  CometChatTextBubble,\n  CometChatFileBubble,\n  CometChatImageBubble,\n  CometChatAudioBubble,\n  CometChatVideoBubble,\n  CometChatPollBubble,\n  CometChatStickerBubble,\n  CometChatDocumentBubble,\n  CometChatWhiteboardBubble,\n  CometChatPlaceholderBubble,\n  CometChatMessageReactions,\n  MessageInputData,\n} from \"../..\";\nimport {\n  AvatarConfiguration,\n  MessageCategoryConstants,\n  MessageTypeConstants,\n  MessageBubbleAlignmentConstants,\n  MessageTimeAlignmentConstants,\n  MessageReceiptConfiguration,\n  fontHelper,\n  CometChatAvatar,\n  CometChatMessageReceipt,\n  CometChatDate,\n  localize,\n  CometChatMenuList,\n  CometChatTheme,\n  getExtensionsData,\n  ExtensionConstants,\n} from \"../../..\";\n\nimport {\n  messageActionsStyle,\n  messageGutterStyle,\n  messageLeftGutterStyle,\n  messageRightGutterStyle,\n  messageAvatarStyle,\n  messageSenderStyle,\n  messageKitReceiptStyle,\n  messageTimestampStyle,\n  messageNameTimestampStyle,\n  messageBlockStyle,\n  messageOptionStyle,\n  deleteBubbleStyle,\n  reactionsStyle,\n  translatedTextBlockStyle,\n  translateTextStyle,\n  translateLabelText,\n} from \"./style\";\n\nimport { BaseStyles, AvatarStyles } from \"../../../Shared\";\n\nimport { MessageBubbleStyles } from \"..\";\n\nimport downloadIcon from \"./resources/download-icon.svg\";\nimport whiteBoard from \"./resources/whiteboard.svg\";\nimport documentIcon from \"./resources/collaborative.svg\";\nimport closeChat from \"./resources/close-chat.svg\";\nimport unsafeContent from \"./resources/unsafe-content.svg\";\n\nimport { MessageReactionsConfiguration } from \"../../CometChatMessageReactions/MessageReactionsConfiguration\";\n\nimport { DateConfiguration } from \"../../../Shared/PrimaryComponents/CometChatConfiguration/DateConfiguration\";\nimport { TextBubbleConfiguration } from \"../CometChatTextBubble/TextBubbleConfiguration\";\nimport { FileBubbleConfiguration } from \"../CometChatFileBubble/FileBubbleConfiguration\";\nimport { ImageBubbleConfiguration } from \"../CometChatImageBubble/ImageBubbleConfiguration\";\nimport { AudioBubbleConfiguration } from \"../CometChatAudioBubble/AudioBubbleConfiguration\";\nimport { VideoBubbleConfiguration } from \"../CometChatVideoBubble/VideoBubbleConfiguration\";\nimport { PollBubbleConfiguration } from \"../CometChatPollBubble/PollBubbleConfiguration\";\nimport { StickerBubbleConfiguration } from \"../CometChatStickerBubble/StickerBubbleConfiguration\";\nimport { DeletedBubbleConfiguration } from \"../CometChatDeletedMessageBubble/DeletedBubbleConfiguration\";\nimport { CollaborativeDocumentConfiguration } from \"../CometChatDocumentBubble/CollaborativeDocumentConfiguration\";\n\n/**\n *CometChatMessageBubble handles the display and functionality for all types of messages in a message list.\n *It renders different bubbles according to the message type provided to it by the parent.\n *\n * @version 1.0.0\n * @author CometChatTeam\n * @copyright Â© 2022 CometChat Inc.\n */\n\nconst CometChatMessageBubble = (props) => {\n  const {\n    messageKey,\n    customView,\n    messageBubbleData,\n    timeAlignment,\n    messageOptions,\n    messageObject,\n    alignment,\n    updateReaction,\n    loggedInUser,\n    style,\n    theme,\n    avatarConfiguration,\n    messageReceiptConfiguration,\n    messageReactionsConfiguration,\n    dateConfiguration,\n  } = props;\n\n  const [isHovering, setIsHovering] = React.useState(null);\n  const _theme = new CometChatTheme(theme || {});\n\n  const _avatarConfiguration =\n    avatarConfiguration || new AvatarConfiguration({});\n  const _messageReactionsConfiguration =\n    messageReactionsConfiguration || new MessageReactionsConfiguration({});\n\n  /**\n   *\n   * @returns ID for each Bubble rendered\n   */\n  const getId = () => {\n    return messageBubbleData?.id && messageObject.id ? messageObject.id : null;\n  };\n\n  /**\n   *\n   * @returns Avatar, if the user enabled thumbnail of messageBubbleData\n   */\n  const getAvatar = () => {\n    const outerViewWidth = _avatarConfiguration?.outerViewWidth;\n    const outerView = `${outerViewWidth} solid ${\n      _theme.palette.primary[_theme.palette.mode]\n    }`;\n    let avatarStyle = new AvatarStyles({\n      width: _avatarConfiguration?.style?.width,\n      height: _avatarConfiguration?.style?.height,\n      outerViewSpacing: _avatarConfiguration?.style?.outerViewSpacing,\n      outerView: _avatarConfiguration?.style?.outerViewSpacing || outerView,\n      textColor:\n        _avatarConfiguration?.style?.textColor ||\n        _theme?.palette?.accent900[_theme?.palette?.mode],\n      textFont:\n        _avatarConfiguration?.style?.textFont ||\n        fontHelper(_theme?.typography?.name),\n      border: `1px solid ${_theme?.palette?.accent600[_theme?.palette?.mode]}`,\n      borderRadius: _avatarConfiguration?.style?.borderRadius,\n      backgroundSize: _avatarConfiguration?.style?.backgroundSize,\n      backgroundColor:\n        _avatarConfiguration?.style?.backgroundColor ||\n        _theme?.palette?.accent600[_theme?.palette?.mode],\n    });\n\n    // if messageObject has thumbnail key\n    if (messageBubbleData?.thumbnail) {\n      if (messageObject?.sender?.avatar) {\n        // If Icon provided\n        return (\n          <div style={messageAvatarStyle()} className=\"message_kit__avatar\">\n            <CometChatAvatar\n              {...avatarStyle}\n              image={messageObject.sender.avatar}\n            />\n          </div>\n        );\n      } else if (messageObject?.sender?.name) {\n        // show initials for name\n        return (\n          <div style={messageAvatarStyle()} className=\"message_kit__avatar\">\n            <CometChatAvatar\n              {...avatarStyle}\n              name={messageObject.sender.name}\n            />\n          </div>\n        );\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   *\n   * @param {*} customView\n   * @returns custom Bubble set by The user\n   */\n  const getCustomView = (customView) => {\n    //return customView;\n    return React.createElement(customView, {\n      key: messageObject.key,\n      messageBubbleData: messageBubbleData,\n      alignment: alignment,\n      timeAlignment: timeAlignment,\n      messageObject: messageObject,\n      messageOptions: messageOptions,\n      loggedInUser: loggedInUser,\n      ...style,\n    });\n  };\n\n  /**\n   * Displays message options of a bubble when mouse is hovered on it\n   */\n  const getMessageOptions = () => {\n    return isHovering && messageObject && !messageObject.deletedAt ? (\n      <div>\n        <CometChatMenuList\n          isOpen={true}\n          key={messageObject.id}\n          data={messageObject}\n          list={messageOptions}\n          style={messageOptionStyle(\n            alignment,\n            loggedInUser,\n            messageObject,\n            _theme\n          )}\n        />\n      </div>\n    ) : null;\n  };\n\n  /**\n   *\n   * @returns Message text in a bubble of type based on the message itself\n   */\n  const getMessage = () => {\n    /**\n     * Returns a bubble based on messageObject type\n     */\n\n    if (customView) {\n      return getCustomView(customView);\n    } else if (messageObject.category === MessageCategoryConstants.message) {\n      let messageStyle = {};\n\n      /** emoji font according to number of emoji to be display */\n      const emojiFont = (str) => {\n        let strLength = str?.length;\n        let fontSize = null;\n        if (strLength) {\n          let emojiRE = str?.match(\n            /[\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}]/gu\n          );\n\n          let numbers = emojiRE?.length;\n          if (numbers === 1 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"32px\";\n          } else if (numbers === 2 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"24px\";\n          } else if (numbers === 3 && parseInt(strLength / 2) === numbers) {\n            fontSize = \"16px\";\n          }\n        }\n        return fontSize;\n      };\n\n      switch (messageObject.type) {\n        case MessageTypeConstants.text: {\n          let textColor;\n          if (alignment === MessageBubbleAlignmentConstants.right) {\n            textColor = {\n              textColor: _theme.palette.accent900[\"light\"],\n            };\n          } else {\n            textColor = {\n              textColor: _theme.palette.accent900[\"dark\"],\n            };\n          }\n          messageStyle = {\n            ...new BaseStyles({\n              width: \"\",\n              height: \"\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\",\n            }),\n            textFont:\n              emojiFont(messageObject.text) ||\n              fontHelper(_theme.typography.subtitle1),\n            ...textColor,\n            linkPreviewTitleFont: fontHelper(_theme.typography.title2),\n            linkPreviewTitleColor: _theme.palette.accent[_theme.palette.mode],\n            linkPreviewSubtitleFont: fontHelper(_theme.typography.subtitle2),\n            linkPreviewSubtitleColor:\n              _theme.palette.accent600[_theme.palette.mode],\n            linkPreviewBackgroundColor:\n              _theme.palette.background[_theme.palette.mode],\n          };\n          return (\n            <CometChatTextBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              overlayImageURL={unsafeContent}\n              text={\"\"}\n              linkPreviewTitle={\"\"}\n              linkPreviewSubtitle={\"\"}\n              theme={_theme}\n              style={messageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.image: {\n          messageStyle = {\n            ...new BaseStyles({\n              width: \"100%\",\n              height: \"168px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\",\n            }),\n          };\n          return (\n            <CometChatImageBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              style={messageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.video: {\n          messageStyle = {\n            ...new BaseStyles({\n              width: \"250px\",\n              height: \"200px\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\",\n            }),\n          };\n          return (\n            <CometChatVideoBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              style={messageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.audio: {\n          messageStyle = {\n            ...new BaseStyles({\n              width: \"250px\",\n              height: \"auto\",\n              background: \"none\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\",\n            }),\n            iconTint: _theme.palette.primary[_theme.palette.mode],\n          };\n          return (\n            <CometChatAudioBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              style={messageStyle}\n            />\n          );\n        }\n\n        case MessageTypeConstants.file: {\n          messageStyle = {\n            ...new BaseStyles({\n              width: \"190px\",\n              height: \"56px\",\n              background: \"transparent\",\n              border: \"none\",\n              borderRadius: \"12px\",\n              activeBackground: \"\",\n            }),\n            titleFont: fontHelper(_theme.typography.title2),\n            subTitleFont: fontHelper(_theme.typography.subtitle2),\n            iconTint: _theme.palette.primary[_theme.palette.mode],\n            titleColor: _theme.palette.accent[_theme.palette.mode],\n            subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n          };\n          return (\n            <CometChatFileBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              iconURL={downloadIcon}\n              style={messageStyle}\n              theme={_theme}\n            />\n          );\n        }\n        default:\n      }\n    } else if (\n      props.messageObject.category === MessageCategoryConstants.custom\n    ) {\n      let customMessageStyle = {};\n      switch (messageObject.type) {\n        case MessageTypeConstants.poll: {\n          if (alignment === MessageBubbleAlignmentConstants.right) {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              votePercentTextFont: fontHelper(_theme.typography.subtitle1), //not in skecth\n              votePercentTextColor:\n                _theme.palette.background[_theme.palette.mode], //not in sketch\n              pollQuestionTextFont: fontHelper(_theme.typography.subtitle1),\n              pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n              pollOptionTextFont: fontHelper(_theme.typography.subtitle1),\n              pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n              pollOptionsBackground:\n                _theme.palette.background[_theme.palette.mode],\n              optionIconTint:\n                style.optionsIconTint ||\n                _theme.palette.accent500[_theme.palette.mode],\n              totalVoteCountTextFont: fontHelper(_theme.typography.subtitle2),\n              totalVoteCountTextColor:\n                _theme.palette.accent600[_theme.palette.mode],\n              selectedPollOptionBackground:\n                style.selectedPollOptionBackground ||\n                _theme.palette.primary[_theme.palette.mode],\n            };\n          } else {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"100%\",\n                height: \"100%\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              background: \"transparent\",\n              votePercentTextFont: fontHelper(_theme.typography.subtitle1),\n              votePercentTextColor:\n                _theme.palette.background[_theme.palette.mode],\n              pollQuestionTextColor: _theme.palette.accent[_theme.palette.mode],\n              pollQuestionTextFont: fontHelper(_theme.typography.subtitle1),\n              pollOptionTextFont: fontHelper(_theme.typography.subtitle1),\n              pollOptionTextColor: _theme.palette.accent[_theme.palette.mode],\n              pollOptionsBackground:\n                _theme.palette.background[_theme.palette.mode],\n              totalVoteCountTextFont: fontHelper(_theme.typography.subtitle2),\n              totalVoteCountTextColor:\n                _theme.palette.accent600[_theme.palette.mode],\n              optionIconTint:\n                style.optionsIconTint ||\n                _theme.palette.accent500[_theme.palette.mode],\n              pollOptionBorder: \"none\",\n              selectedPollOptionBackground:\n                style.selectedPollOptionBackground ||\n                _theme.palette.primary[_theme.palette.mode],\n            };\n          }\n          return (\n            <CometChatPollBubble\n              key={messageObject.id}\n              messageObject={messageObject}\n              pollQuestion={\"\"}\n              options={null}\n              totalVoteCount={null}\n              optionIconURL={null}\n              loggedInUser={loggedInUser || loggedInUser}\n              theme={_theme}\n              style={customMessageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.sticker: {\n          if (\n            alignment === MessageBubbleAlignmentConstants.right ||\n            alignment === MessageBubbleAlignmentConstants.left\n          ) {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"150px\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n            };\n          }\n          return (\n            <CometChatStickerBubble\n              key={messageKey}\n              messageObject={messageObject}\n              style={customMessageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.whiteboard: {\n          if (alignment === MessageBubbleAlignmentConstants.right) {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              titleFont: fontHelper(_theme.typography.title2),\n              iconTint: _theme.palette.accent700[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n              subTitleFont: fontHelper(_theme.typography.subtitle2),\n              buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n              buttonTextFont: fontHelper(_theme.typography.title2),\n              buttonBackground: \"transparent\",\n            };\n          } else {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              titleFont: fontHelper(_theme.typography.title2),\n              iconTint: _theme.palette.accent700[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n              subTitleFont: fontHelper(_theme.typography.subtitle2),\n              buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n              buttonTextFont: fontHelper(_theme.typography.title2),\n              buttonBackground: \"transparent\",\n            };\n          }\n          return (\n            <CometChatWhiteboardBubble\n              whiteboardURL={\"\"}\n              key={messageKey}\n              messageObject={messageObject}\n              subTitle={localize(\"WHITEBOARD_SUBTITLE_MESSAGE\")}\n              iconURL={whiteBoard}\n              title={localize(\"SHARED_COLLABORATIVE_WHITEBOARD\")}\n              buttonText={localize(\"OPEN_WHITEBOARD\")}\n              theme={_theme}\n              style={customMessageStyle}\n            />\n          );\n        }\n        case MessageTypeConstants.document: {\n          if (alignment === MessageBubbleAlignmentConstants.right) {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              titleFont: fontHelper(_theme.typography.title2),\n              iconTint: _theme.palette.accent700[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n              subTitleFont: fontHelper(_theme.typography.subtitle2),\n              buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n              buttonTextFont: fontHelper(_theme.typography.title2),\n              buttonBackground: \"transparent\",\n            };\n          } else {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"228px\",\n                height: \"134px\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              titleFont: fontHelper(_theme.typography.title2),\n              iconTint: _theme.palette.accent700[_theme.palette.mode],\n              titleColor: _theme.palette.accent[_theme.palette.mode],\n              subTitleColor: _theme.palette.accent600[_theme.palette.mode],\n              subTitleFont: fontHelper(_theme.typography.subtitle2),\n              buttonTextColor: _theme.palette.primary[_theme.palette.mode],\n              buttonTextFont: fontHelper(_theme.typography.title2),\n              buttonBackground: \"transparent\",\n            };\n          }\n          return (\n            <CometChatDocumentBubble\n              key={messageKey}\n              messageObject={messageObject}\n              iconURL={documentIcon}\n              title={localize(\"SHARED_COLLABORATIVE_DOCUMENT\")}\n              subTitle={localize(\"DOCUMENT_SUBTITLE_MESSAGE\")}\n              buttonText={localize(\"OPEN_DOCUMENT\")}\n              theme={_theme}\n              style={customMessageStyle}\n            />\n          );\n        }\n        default: {\n          if (alignment === MessageBubbleAlignmentConstants.right) {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              textColor: _theme.palette.primary[_theme.palette.mode],\n              textFont: fontHelper(_theme.typography.subtitle1),\n            };\n          } else {\n            customMessageStyle = {\n              ...new BaseStyles({\n                width: \"auto\",\n                height: \"auto\",\n                background: \"transparent\",\n                border: \"none\",\n                borderRadius: \"12px\",\n                activeBackground: \"\",\n              }),\n              textColor: _theme.palette.accent[_theme.palette.mode],\n              textFont: fontHelper(_theme.typography.subtitle1),\n            };\n          }\n          return (\n            <CometChatPlaceholderBubble\n              key={messageKey}\n              style={customMessageStyle}\n              text={messageObject.type + \"message is not supported\"}\n            />\n          );\n        }\n      }\n    }\n  };\n\n  /**\n   * Returns delete bubble view if a message is deleted\n   */\n  const getDeleteBubble = () => {\n    return (\n      <CometChatDeletedMessageBubble\n        text={localize(\"MESSAGE_IS_DELETED\")}\n        style={deleteBubbleStyle(_theme)}\n      />\n    );\n  };\n\n  /**\n   *\n   * @returns Reactions on a message\n   */\n  const messageReactions = () => {\n    let reactionsData = getExtensionsData(\n      messageObject,\n      ExtensionConstants.reactions\n    );\n    if (reactionsData && Object.keys(reactionsData).length) {\n      return (\n        <CometChatMessageReactions\n          messageObject={messageObject}\n          loggedInUser={loggedInUser}\n          addReactionIconURL={_messageReactionsConfiguration.addReactionIconURL}\n          style={reactionsStyle(_theme, alignment, messageObject)}\n          updateReaction={updateReaction}\n        />\n      );\n    }\n\n    return null;\n  };\n\n  /**\n   *\n   * @returns translated text on using text translate\n   */\n  const getTranslatedMessage = () => {\n    if (messageObject?.metadata?.translatedText) {\n      return (\n        <div\n          className=\"message_translate__block\"\n          style={translatedTextBlockStyle(alignment, _theme)}\n        >\n          <p className=\"message_translate__text\" style={translateTextStyle()}>\n            {messageObject.metadata.translatedText}\n          </p>\n          <p\n            className=\"message_translate__label\"\n            style={translateLabelText(alignment, _theme)}\n          >\n            {localize(\"TRANSLATED_MESSAGE\")}\n          </p>\n        </div>\n      );\n    }\n  };\n\n  /**\n   * Displays a component when Mouse Hovers on a bubble\n   */\n  const showMessageOptions = () => {\n    if (!isHovering) {\n      setIsHovering(true);\n    }\n  };\n\n  /**\n   * Hides the component when Mouse doesn't hover anymore on the bubble\n   */\n  const hideMessageOptions = () => {\n    if (isHovering) {\n      setIsHovering(false);\n    }\n  };\n\n  /**\n   *\n   * @returns name of the sender\n   */\n  const getSenderName = () => {\n    return messageBubbleData?.title && messageObject?.sender?.name ? (\n      <span\n        style={messageSenderStyle(style, _theme)}\n        className=\"message_kit__sender\"\n      >\n        {messageObject.sender.name}\n      </span>\n    ) : null;\n  };\n\n  /**\n   *\n   * @returns time of message sent\n   */\n  const getMessageTime = () => {\n    const _dateConfiguration = dateConfiguration || new DateConfiguration({});\n    return messageBubbleData?.timestamp && messageObject?.sentAt ? (\n      <div\n        style={messageTimestampStyle(style, _theme)}\n        className=\"message_kit__time_bar\"\n      >\n        <CometChatDate\n          timestamp={messageObject.sentAt || _dateConfiguration.timeStamp}\n          pattern={\"timeFormat\" || _dateConfiguration.pattern}\n          style={{\n            textFont:\n              style.timestampFont || fontHelper(_theme.typography.caption1),\n            textColor:\n              style.timestampColor ||\n              _theme.palette.accent[_theme.palette.mode],\n          }}\n        />\n      </div>\n    ) : null;\n  };\n\n  const getMessageReceipt = () => {\n    const _messageReceiptConfiguration =\n      messageReceiptConfiguration || new MessageReceiptConfiguration({});\n\n    return messageBubbleData?.readReceipt ? (\n      <CometChatMessageReceipt\n        messageObject={messageObject}\n        loggedInUser={loggedInUser}\n        messageDeliveredIcon={_messageReceiptConfiguration.messageDeliveredIcon}\n        messageErrorIcon={_messageReceiptConfiguration.messageErrorIcon}\n        messageSentIcon={_messageReceiptConfiguration.messageSentIcon}\n        messageWaitIcon={_messageReceiptConfiguration.messageWaitIcon}\n        messageReadIcon={_messageReceiptConfiguration.messageReadIcon}\n      />\n    ) : null;\n  };\n\n  const getLeftView = () => {\n    //if the message bubble is aligned to the left\n\n    if (alignment === MessageBubbleAlignmentConstants.left) {\n      return messageBubbleData?.thumbnail ? (\n        <div\n          style={messageLeftGutterStyle()}\n          className=\"message_kit__gutter__left\"\n        >\n          {getAvatar()}\n        </div>\n      ) : null;\n\n      //if the message bubble is aligned to the right\n    } else {\n      let topBar = null;\n      let bottomBar = null;\n\n      //if loggedin user is the sender\n      if (loggedInUser?.uid === messageObject?.sender?.uid) {\n        //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n        if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.top) {\n          topBar =\n            messageBubbleData.timestamp || messageBubbleData.title ? (\n              <div\n                style={messageSenderStyle(style, _theme)}\n                className=\"message_kit__username_bar\"\n              >\n                {getMessageTime()}&nbsp;{getSenderName()}\n              </div>\n            ) : null;\n\n          bottomBar = messageBubbleData?.readReceipt ? (\n            <div\n              style={messageKitReceiptStyle()}\n              className=\"message_kit__receipt_bar\"\n            >\n              {getMessageReceipt()}\n            </div>\n          ) : null;\n        } else if (\n          timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.bottom\n        ) {\n          topBar = messageBubbleData?.title ? (\n            <div\n              style={messageSenderStyle(style, _theme)}\n              className=\"message_kit__username_bar\"\n            >\n              {getSenderName()}\n            </div>\n          ) : null;\n\n          bottomBar =\n            messageBubbleData?.timestamp || messageBubbleData?.readReceipt ? (\n              <div\n                style={messageKitReceiptStyle()}\n                className=\"message_kit__receipt_bar\"\n              >\n                {getMessageTime()}&nbsp;{getMessageReceipt()}\n              </div>\n            ) : null;\n        }\n      }\n      return (\n        <div\n          style={messageLeftGutterStyle()}\n          className=\"message_kit__gutter__left\"\n        >\n          {topBar}\n          <div\n            data-id={getId()}\n            className=\"message_kit__hover\"\n            onMouseEnter={showMessageOptions}\n            onMouseLeave={hideMessageOptions}\n          >\n            <div\n              style={messageBlockStyle(alignment, style, messageObject, _theme)}\n              className=\"messageBlockStyle\"\n            >\n              {messageObject && messageObject.deletedAt ? (\n                getDeleteBubble()\n              ) : (\n                <React.Fragment>\n                  {getMessageOptions()}\n                  {getMessage()}\n                  {getTranslatedMessage()}\n                  {messageReactions()}\n                </React.Fragment>\n              )}\n            </div>\n          </div>\n          {bottomBar}\n        </div>\n      );\n    }\n  };\n\n  const getRightview = () => {\n    //if the message bubble is aligned to left\n    if (alignment === MessageBubbleAlignmentConstants.left) {\n      let topBar = getSenderName();\n      let bottomBar = null;\n\n      //if timestamp is to be shown on the top of the message bubble i.e. similar to slack\n      if (timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.top) {\n        topBar =\n          messageBubbleData.title || messageBubbleData.timestamp ? (\n            <div\n              style={messageNameTimestampStyle()}\n              className=\"message_kit__username_bar\"\n            >\n              {getSenderName()}&nbsp;{getMessageTime()}\n            </div>\n          ) : null;\n\n        //if loggedin user is the sender of the message\n        if (\n          loggedInUser?.uid === messageObject?.sender?.uid &&\n          messageBubbleData?.readReceipt\n        ) {\n          bottomBar = (\n            <div\n              style={messageKitReceiptStyle()}\n              className=\"message_kit__receipt_bar\"\n            >\n              {getMessageReceipt()}\n            </div>\n          );\n        }\n\n        //if timestamp is to be shown at the bottom of the message bubble i.e. similar to slack\n      } else if (\n        timeAlignment.toLowerCase() === MessageTimeAlignmentConstants.bottom\n      ) {\n        //if loggedin user is the sender of the message\n        if (loggedInUser?.uid === messageObject?.sender?.uid) {\n          bottomBar =\n            messageBubbleData.timestamp || messageBubbleData.readReceipt ? (\n              <div\n                style={messageKitReceiptStyle()}\n                className=\"message_kit__receipt_bar\"\n              >\n                {getMessageTime()}&nbsp;{getMessageReceipt()}\n              </div>\n            ) : null;\n        } else {\n          bottomBar = (\n            <div\n              style={messageKitReceiptStyle()}\n              className=\"message_kit__receipt_bar\"\n            >\n              {getMessageTime()}\n            </div>\n          );\n        }\n      }\n\n      return (\n        <div\n          style={messageRightGutterStyle()}\n          className=\"message_kit__gutter__right\"\n        >\n          {topBar}\n          <div\n            data-id={getId()}\n            className=\"message_kit__hover\"\n            onMouseEnter={showMessageOptions}\n            onMouseLeave={hideMessageOptions}\n          >\n            <div\n              style={messageBlockStyle(alignment, style, messageObject, _theme)}\n              className=\"messageBlockStyle\"\n            >\n              {messageObject?.deletedAt ? (\n                getDeleteBubble()\n              ) : (\n                <React.Fragment>\n                  {getMessageOptions()}\n                  {getMessage()}\n                  {getTranslatedMessage()}\n                  {messageReactions()}\n                </React.Fragment>\n              )}\n            </div>\n          </div>\n          {bottomBar}\n        </div>\n      );\n    } else {\n      //if loggedin user is the sender of the message\n      if (loggedInUser?.uid === messageObject?.sender?.uid) {\n        return messageBubbleData?.thumbnail ? (\n          <div\n            style={messageLeftGutterStyle()}\n            className=\"message_kit__gutter__right\"\n          >\n            {getAvatar()}\n          </div>\n        ) : null;\n      }\n    }\n  };\n\n  return (\n    <div\n      style={messageActionsStyle(props, _theme)}\n      className=\"message_kit__actions\"\n    >\n      <div style={messageGutterStyle()} className=\"c-message_kit__gutter\">\n        {getLeftView()}\n        {getRightview()}\n      </div>\n    </div>\n  );\n};\n\nCometChatMessageBubble.defaultProps = {\n  messageBubbleData: {\n    id: true,\n    thumbnail: true,\n    title: false,\n    timestamp: true,\n    readReceipt: true,\n  },\n  timeAlignment: \"bottom\",\n  messageOptions: [],\n  messageObject: null,\n  alignment: \"standard\",\n  loggedInUser: null,\n  style: {\n    width: \"\",\n    height: \"\",\n    nameTextFont: \"\",\n    nameTextColor: \"\",\n    border: \"\",\n    background: \"\",\n    borderRadius: \"\",\n    timestampFont: \"\",\n    timestampColor: \"\",\n  },\n};\n\nCometChatMessageBubble.propTypes = {\n  messageBubbleData: PropTypes.object,\n  timeAlignment: PropTypes.string,\n  messageOptions: PropTypes.array,\n  messageObject: PropTypes.object,\n  alignment: PropTypes.string,\n  loggedInUser: PropTypes.object,\n  style: PropTypes.object,\n  avatarConfiguration: PropTypes.object,\n  messageReceiptConfiguration: PropTypes.object,\n  messageReactionsConfiguration: PropTypes.object,\n  dateConfiguration: PropTypes.object,\n  textBubbleConfiguration: PropTypes.object,\n  fileBubbleConfiguration: PropTypes.object,\n  imageBubbleConfiguration: PropTypes.object,\n  audioBubbleConfiguration: PropTypes.object,\n  videoBubbleConfiguration: PropTypes.object,\n  pollBubbleConfiguration: PropTypes.object,\n  stickerBubbleConfiguration: PropTypes.object,\n  deletedBubbleConfiguration: PropTypes.object,\n  collaborativeWhiteboardConfiguration: PropTypes.object,\n  collaborativeDocumentConfiguration: PropTypes.object,\n};\n\nexport { CometChatMessageBubble };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}