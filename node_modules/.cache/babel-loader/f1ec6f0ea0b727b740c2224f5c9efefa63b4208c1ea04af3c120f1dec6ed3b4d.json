{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { ConversationListManager } from \"./controller\";\nimport { CometChatConversationEvents } from \"../CometChatConversationEvents\";\nexport const Hooks = (conversationType, limit, tags, userAndGroupTags, setConversationList, conversationCallback, conversationListManager, loggedInUser, handleConversations) => {\n  _s();\n  useEffect(() => {\n    CometChat.getLoggedinUser().then(user => {\n      loggedInUser.current = {\n        ...user\n      };\n    }).catch(error => {\n      CometChatConversationEvents.emit(CometChatConversationEvents.onError, error);\n    });\n  }, []);\n  useEffect(() => {\n    try {\n      var _conversationListMana;\n      conversationListManager.current = new ConversationListManager({\n        conversationType: conversationType,\n        limit: limit,\n        tags: tags,\n        userAndGroupTags: userAndGroupTags\n      });\n      (_conversationListMana = conversationListManager.current) === null || _conversationListMana === void 0 ? void 0 : _conversationListMana.attachListeners(conversationCallback);\n      setConversationList([]);\n      handleConversations();\n      return () => {\n        var _conversationListMana2;\n        if (conversationListManager !== null && conversationListManager !== void 0 && (_conversationListMana2 = conversationListManager.current) !== null && _conversationListMana2 !== void 0 && _conversationListMana2.removeListeners) {\n          conversationListManager.current.removeListeners();\n        }\n      };\n    } catch (e) {\n      CometChatConversationEvents.emit(CometChatConversationEvents.onError, e);\n    }\n  }, [conversationType, limit, tags === null || tags === void 0 ? void 0 : tags.length, userAndGroupTags]);\n};\n_s(Hooks, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n_c = Hooks;\nvar _c;\n$RefreshReg$(_c, \"Hooks\");","map":{"version":3,"names":["React","useEffect","CometChat","ConversationListManager","CometChatConversationEvents","Hooks","conversationType","limit","tags","userAndGroupTags","setConversationList","conversationCallback","conversationListManager","loggedInUser","handleConversations","getLoggedinUser","then","user","current","catch","error","emit","onError","attachListeners","removeListeners","e","length"],"sources":["/home/admin1/dev/react/react-sample-guide/sample-react-guides/src/cometchat-pro-react-ui-kit/src/components/Chats/CometChatConversationList/hooks.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { ConversationListManager } from \"./controller\";\nimport { CometChatConversationEvents } from \"../CometChatConversationEvents\";\n\nexport const Hooks = (\n  conversationType,\n  limit,\n  tags,\n  userAndGroupTags,\n  setConversationList,\n  conversationCallback,\n  conversationListManager,\n  loggedInUser,\n  handleConversations,\n) => {\n  useEffect(() => {\n    CometChat.getLoggedinUser()\n      .then((user) => {\n        loggedInUser.current = { ...user };\n      })\n      .catch((error) => {\n        CometChatConversationEvents.emit(\n          CometChatConversationEvents.onError,\n          error\n        );\n      });\n  }, []);\n\n  useEffect(() => {\n    try {\n      conversationListManager.current = new ConversationListManager({\n        conversationType: conversationType,\n        limit: limit,\n        tags: tags,\n        userAndGroupTags: userAndGroupTags,\n      });\n      conversationListManager.current?.attachListeners(conversationCallback);\n      setConversationList([]);\n      handleConversations();\n\n      return () => {\n        if (conversationListManager?.current?.removeListeners) {\n          conversationListManager.current.removeListeners();\n        }\n      };\n    } catch (e) {\n      CometChatConversationEvents.emit(CometChatConversationEvents.onError, e);\n    }\n  }, [conversationType, limit, tags?.length, userAndGroupTags]);\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,uBAAuB,QAAQ,cAAc;AACtD,SAASC,2BAA2B,QAAQ,gCAAgC;AAE5E,OAAO,MAAMC,KAAK,GAAG,CACnBC,gBAAgB,EAChBC,KAAK,EACLC,IAAI,EACJC,gBAAgB,EAChBC,mBAAmB,EACnBC,oBAAoB,EACpBC,uBAAuB,EACvBC,YAAY,EACZC,mBAAmB,KAChB;EAAA;EACHb,SAAS,CAAC,MAAM;IACdC,SAAS,CAACa,eAAe,EAAE,CACxBC,IAAI,CAAEC,IAAI,IAAK;MACdJ,YAAY,CAACK,OAAO,GAAG;QAAE,GAAGD;MAAK,CAAC;IACpC,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MAChBhB,2BAA2B,CAACiB,IAAI,CAC9BjB,2BAA2B,CAACkB,OAAO,EACnCF,KAAK,CACN;IACH,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENnB,SAAS,CAAC,MAAM;IACd,IAAI;MAAA;MACFW,uBAAuB,CAACM,OAAO,GAAG,IAAIf,uBAAuB,CAAC;QAC5DG,gBAAgB,EAAEA,gBAAgB;QAClCC,KAAK,EAAEA,KAAK;QACZC,IAAI,EAAEA,IAAI;QACVC,gBAAgB,EAAEA;MACpB,CAAC,CAAC;MACF,yBAAAG,uBAAuB,CAACM,OAAO,0DAA/B,sBAAiCK,eAAe,CAACZ,oBAAoB,CAAC;MACtED,mBAAmB,CAAC,EAAE,CAAC;MACvBI,mBAAmB,EAAE;MAErB,OAAO,MAAM;QAAA;QACX,IAAIF,uBAAuB,aAAvBA,uBAAuB,yCAAvBA,uBAAuB,CAAEM,OAAO,mDAAhC,uBAAkCM,eAAe,EAAE;UACrDZ,uBAAuB,CAACM,OAAO,CAACM,eAAe,EAAE;QACnD;MACF,CAAC;IACH,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVrB,2BAA2B,CAACiB,IAAI,CAACjB,2BAA2B,CAACkB,OAAO,EAAEG,CAAC,CAAC;IAC1E;EACF,CAAC,EAAE,CAACnB,gBAAgB,EAAEC,KAAK,EAAEC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkB,MAAM,EAAEjB,gBAAgB,CAAC,CAAC;AAC/D,CAAC;AAAC,GA7CWJ,KAAK;AAAA,KAALA,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}