{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.linkify = exports.getUnixTimestamp = exports.getMetadataByKey = exports.getExtensionsData = exports.getCometChatMessage = exports.bytesToSize = exports.ID = void 0;\nvar _chat = require(\"@cometchat-pro/chat\");\nvar _ = require(\"..\");\nvar wordBoundary = {\n  start: \"(?:^|:|;|'|\\\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)\",\n  end: \"(?=$|:|;|'|\\\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)\"\n};\nvar emailPattern = new RegExp(wordBoundary.start + \"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}\" + wordBoundary.end, \"gi\");\nvar urlPattern = new RegExp(wordBoundary.start + \"((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,\\u263A]+[\\\\w/#](\\\\(\\\\))?)\" + wordBoundary.end, \"gi\");\nvar phoneNumPattern = new RegExp(wordBoundary.start + \"(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)\" + wordBoundary.end, \"gi\");\nvar ID = function ID() {\n  // Math.random should be unique because of its seeding algorithm.\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n  // after the decimal.\n  return \"_\" + Math.random().toString(36).substr(2, 9);\n};\nexports.ID = ID;\nvar getUnixTimestamp = function getUnixTimestamp() {\n  return Math.round(+new Date() / 1000);\n};\nexports.getUnixTimestamp = getUnixTimestamp;\nvar getExtensionsData = function getExtensionsData(message, extensionKey) {\n  if (message !== null && message !== void 0 && message.hasOwnProperty(\"metadata\")) {\n    var metadata = message.metadata;\n    var injectedObject = metadata[\"@injected\"];\n    if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n      var extensionsObject = injectedObject[\"extensions\"];\n      if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n        return extensionsObject[extensionKey];\n      }\n    }\n  }\n  return null;\n};\nexports.getExtensionsData = getExtensionsData;\nvar getMetadataByKey = function getMetadataByKey(message, metadataKey) {\n  if (message.hasOwnProperty(\"metadata\")) {\n    var metadata = message[\"metadata\"];\n    if (metadata.hasOwnProperty(metadataKey)) {\n      return metadata[metadataKey];\n    }\n  }\n  return null;\n};\n\n// export const getFileMessageMetadata = (message, metadataKey) => {\n\n// \tif (message.hasOwnProperty(\"metadata\")) {\n// \t\tconst metadata = message[\"metadata\"];\n// \t\tif (metadata.hasOwnProperty(metadataKey)) {\n// \t\t\treturn metadata[metadataKey];\n// \t\t}\n// \t}\n\n// \treturn null;\n// };\nexports.getMetadataByKey = getMetadataByKey;\nvar bytesToSize = function bytesToSize(bytes) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (bytes === 0) return \"0 Bytes\";\n  var k = 1024;\n  var dm = decimals < 0 ? 0 : decimals;\n  var sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n  var i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n};\nexports.bytesToSize = bytesToSize;\nvar linkify = function linkify(message) {\n  var outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n  outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n  var results = outputStr.match(urlPattern);\n  results && results.forEach(function (url) {\n    url = url.trim();\n    var normalizedURL = url;\n    if (!url.startsWith(\"http\")) {\n      normalizedURL = \"//\".concat(url);\n    }\n    outputStr = outputStr.replace(url, \"<a target='blank' rel='noopener noreferrer' href=\\\"\".concat(normalizedURL, \"\\\">\").concat(url, \"</a>\"));\n  });\n  return outputStr;\n};\nexports.linkify = linkify;\nvar getCometChatMessage = function getCometChatMessage(messageObject) {\n  if (messageObject.category === _.CometChatMessageCategories.custom) {\n    return new _chat.CometChat.CustomMessage(messageObject);\n  } else if (messageObject.category === _.CometChatMessageCategories.message && messageObject.type === _.CometChatMessageTypes.text) {\n    var newMessageObject = new _chat.CometChat.TextMessage(messageObject);\n    return newMessageObject;\n  } else {\n    return new _chat.CometChat.MediaMessage(messageObject);\n  }\n};\nexports.getCometChatMessage = getCometChatMessage;","map":{"version":3,"names":["Object","defineProperty","exports","value","linkify","getUnixTimestamp","getMetadataByKey","getExtensionsData","getCometChatMessage","bytesToSize","ID","_chat","require","_","wordBoundary","start","end","emailPattern","RegExp","urlPattern","phoneNumPattern","Math","random","toString","substr","round","Date","message","extensionKey","hasOwnProperty","metadata","injectedObject","extensionsObject","metadataKey","bytes","decimals","arguments","length","undefined","k","dm","sizes","i","floor","log","parseFloat","pow","toFixed","outputStr","replace","results","match","forEach","url","trim","normalizedURL","startsWith","concat","messageObject","category","CometChatMessageCategories","custom","CometChat","CustomMessage","type","CometChatMessageTypes","text","newMessageObject","TextMessage","MediaMessage"],"sources":["/home/admin1/dev/react/sample-react-guides/node_modules/@cometchat-pro/react-ui-kit/dist/Messages/CometChatMessageHelper/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.linkify = exports.getUnixTimestamp = exports.getMetadataByKey = exports.getExtensionsData = exports.getCometChatMessage = exports.bytesToSize = exports.ID = void 0;\nvar _chat = require(\"@cometchat-pro/chat\");\nvar _ = require(\"..\");\nvar wordBoundary = {\n  start: \"(?:^|:|;|'|\\\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)\",\n  end: \"(?=$|:|;|'|\\\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)\"\n};\nvar emailPattern = new RegExp(wordBoundary.start + \"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}\" + wordBoundary.end, \"gi\");\nvar urlPattern = new RegExp(wordBoundary.start + \"((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,\\u263A]+[\\\\w/#](\\\\(\\\\))?)\" + wordBoundary.end, \"gi\");\nvar phoneNumPattern = new RegExp(wordBoundary.start + \"(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)\" + wordBoundary.end, \"gi\");\nvar ID = function ID() {\n  // Math.random should be unique because of its seeding algorithm.\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n  // after the decimal.\n  return \"_\" + Math.random().toString(36).substr(2, 9);\n};\nexports.ID = ID;\nvar getUnixTimestamp = function getUnixTimestamp() {\n  return Math.round(+new Date() / 1000);\n};\nexports.getUnixTimestamp = getUnixTimestamp;\nvar getExtensionsData = function getExtensionsData(message, extensionKey) {\n  if (message !== null && message !== void 0 && message.hasOwnProperty(\"metadata\")) {\n    var metadata = message.metadata;\n    var injectedObject = metadata[\"@injected\"];\n    if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n      var extensionsObject = injectedObject[\"extensions\"];\n      if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n        return extensionsObject[extensionKey];\n      }\n    }\n  }\n  return null;\n};\nexports.getExtensionsData = getExtensionsData;\nvar getMetadataByKey = function getMetadataByKey(message, metadataKey) {\n  if (message.hasOwnProperty(\"metadata\")) {\n    var metadata = message[\"metadata\"];\n    if (metadata.hasOwnProperty(metadataKey)) {\n      return metadata[metadataKey];\n    }\n  }\n  return null;\n};\n\n// export const getFileMessageMetadata = (message, metadataKey) => {\n\n// \tif (message.hasOwnProperty(\"metadata\")) {\n// \t\tconst metadata = message[\"metadata\"];\n// \t\tif (metadata.hasOwnProperty(metadataKey)) {\n// \t\t\treturn metadata[metadataKey];\n// \t\t}\n// \t}\n\n// \treturn null;\n// };\nexports.getMetadataByKey = getMetadataByKey;\nvar bytesToSize = function bytesToSize(bytes) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (bytes === 0) return \"0 Bytes\";\n  var k = 1024;\n  var dm = decimals < 0 ? 0 : decimals;\n  var sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n  var i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n};\nexports.bytesToSize = bytesToSize;\nvar linkify = function linkify(message) {\n  var outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n  outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n  var results = outputStr.match(urlPattern);\n  results && results.forEach(function (url) {\n    url = url.trim();\n    var normalizedURL = url;\n    if (!url.startsWith(\"http\")) {\n      normalizedURL = \"//\".concat(url);\n    }\n    outputStr = outputStr.replace(url, \"<a target='blank' rel='noopener noreferrer' href=\\\"\".concat(normalizedURL, \"\\\">\").concat(url, \"</a>\"));\n  });\n  return outputStr;\n};\nexports.linkify = linkify;\nvar getCometChatMessage = function getCometChatMessage(messageObject) {\n  if (messageObject.category === _.CometChatMessageCategories.custom) {\n    return new _chat.CometChat.CustomMessage(messageObject);\n  } else if (messageObject.category === _.CometChatMessageCategories.message && messageObject.type === _.CometChatMessageTypes.text) {\n    var newMessageObject = new _chat.CometChat.TextMessage(messageObject);\n    return newMessageObject;\n  } else {\n    return new _chat.CometChat.MediaMessage(messageObject);\n  }\n};\nexports.getCometChatMessage = getCometChatMessage;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}