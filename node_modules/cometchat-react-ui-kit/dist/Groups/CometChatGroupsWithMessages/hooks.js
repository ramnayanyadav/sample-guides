"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Hooks = void 0;

var _react = require("react");

var _ = require("../../../");

var _CometChatGroupEvents = require("../CometChatGroupEvents");

var Hooks = function Hooks(onGroupClickHandler, backButtonClickHandler, groupRef, onGroupJoinedHandler) {
  /**ids */
  var onItemClickId = "onItemClick_" + new Date().getTime();
  var onMessageReadId = "onMessageRead_" + new Date().getTime();
  var onBackButtonClickId = "onBackButtonClick_" + new Date().getTime();
  var onMessageJoinId = "onMessageJoin" + new Date().getTime();
  (0, _react.useEffect)(function () {
    _CometChatGroupEvents.CometChatGroupEvents.addListener(_CometChatGroupEvents.CometChatGroupEvents.onItemClick, onItemClickId, onGroupClickHandler);

    _CometChatGroupEvents.CometChatGroupEvents.addListener(_CometChatGroupEvents.CometChatGroupEvents.onGroupMemberJoin, onMessageJoinId, onGroupJoinedHandler); // CometChatMessageEvents.addListener(
    //     CometChatMessageEvents.onMessageRead,
    //     onMessageReadId,
    //     (data) => groupRef?.current?.groupListRef?.resetUnreadCount(data)
    // );


    _.CometChatMessageEvents.addListener(_.CometChatMessageEvents.onBackButtonClick, onBackButtonClickId, backButtonClickHandler);

    return function () {
      _CometChatGroupEvents.CometChatGroupEvents.removeListener(_CometChatGroupEvents.CometChatGroupEvents.onItemClick, onItemClickId);

      _CometChatGroupEvents.CometChatGroupEvents.removeListener(_.CometChatMessageEvents.onMessageRead, onMessageReadId);

      _CometChatGroupEvents.CometChatGroupEvents.removeListener(_.CometChatMessageEvents.onBackButtonClick, onBackButtonClickId);
    };
  }, []);
};

exports.Hooks = Hooks;