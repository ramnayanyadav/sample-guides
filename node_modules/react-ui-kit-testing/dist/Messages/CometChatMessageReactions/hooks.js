"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Hooks = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _react = _interopRequireDefault(require("react"));
var _ = require("../..");
var Hooks = function Hooks(messageObject, reactionRef, reactionView, setReactionList) {
  _react.default.useEffect(function () {
    reactionRef.current = (0, _.getExtensionsData)(messageObject, _.MetadataConstants.extensions.reactions);
    var isEmpty = false;
    if (reactionRef.current) {
      var messageReactions = Object.keys(reactionRef.current).map(function (data) {
        var reactionData;
        if (Object.keys(reactionRef.current[data]).length) {
          isEmpty = true;
          reactionData = reactionRef.current[data];
          return reactionView((0, _defineProperty2.default)({}, data, reactionData), reactionData);
        } else {
          isEmpty = false;
        }
      });
      if (isEmpty) {
        setReactionList(messageReactions);
      }
    }
  }, [messageObject]);
  _react.default.useEffect(function () {}, []);
};
exports.Hooks = Hooks;